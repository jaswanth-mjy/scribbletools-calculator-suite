<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resize Image 4x6 - Free Photo Tool</title>
    <meta name="description" content="Resize your images to 4x6 format online. Quick, free, and privacy-focused. Perfect for photo prints and albums.">
    <style>
        .resize-image-tool body { font-family: 'Poppins', sans-serif; background: #F8F4E8; color: #333; }
        .resize-image-tool main { display: block; }
        .resize-image-tool .reduce-size-container { max-width: 800px; margin: 3em auto; background: #fff; border-radius: 1.2em; box-shadow: 0 4px 24px #eae3d5; padding: 2em 1.5em 2.5em 1.5em; }
        .resize-image-tool .handwritten { font-family: 'Caveat', cursive; }
        .resize-image-tool .upload-area { border: 3px dashed #D9534F; border-radius: 1em; padding: 3em 2em; text-align: center; margin: 2em 0; background: #FDFBF5; transition: all 0.3s; cursor: pointer; }
        .resize-image-tool .upload-area:hover { background: #F0F8FF; border-color: #4682B4; }
        .resize-image-tool .upload-icon { font-size: 3em; color: #D9534F; margin-bottom: 1em; text-align: center; }
        .resize-image-tool .file-input { display: none; }
        .resize-image-tool .button-group { display: flex; gap: 1em; justify-content: center; margin: 1.5em 0; }
        .resize-image-tool .unit-btn { background: #4682B4; color: #fff; border: none; border-radius: 0.5em; padding: 0.8em 1.5em; font-weight: 600; cursor: pointer; transition: all 0.2s; }
        .resize-image-tool .unit-btn:hover { background: #3a6d96; }
        .resize-image-tool .unit-btn.active { background: #D9534F; }
        .resize-image-tool .preview-section { margin-top: 2em; text-align: center; display: none; }
        .resize-image-tool .preview-image { max-width: 100%; max-height: 300px; border-radius: 0.5em; border: 2px solid #EAE3D5; }
        .resize-image-tool .btn-download { background: #228B22; color: #fff; border: none; border-radius: 0.5em; padding: 1em 2em; font-weight: 600; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block; }
        .resize-image-tool .btn-download:hover { background: #1e7e1e; }
        .resize-image-tool #error-message { display: none; color: #dc3545; margin-top: 1em; padding: 0.5em; background: #f8d7da; border-radius: 0.5em; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
<div class="resize-image-tool">
    <div class="reduce-size-container">
        <header>
            <h1 style="font-family: 'Caveat', cursive; font-size: 3em; color: #FF6B6B; margin-bottom: 0.5em;">Resize Image to 4x6</h1>
            <p style="font-size:1.2em; margin-bottom:1em;">Quick and easy photo resizing for standard 4x6 prints. Free and private.</p>
        </header>

        <div class="instructions" style="background:#FFF3CD; border:1px solid #FFD700; border-radius:0.7em; padding:1em; margin-bottom:1.2em; color:#B8860B; font-weight:bold; font-size:1.1em;">
            ‚ú® Choose your preferred unit (inches or cm) and upload your image for perfect 4x6 prints.
        </div>

        <div class="button-group">
            <button class="unit-btn active" data-unit="inches">4x6 inches</button>
            <button class="unit-btn" data-unit="cm">10x15 cm</button>
        </div>

        <div class="upload-area" id="upload-area">
            <div class="upload-icon">üñºÔ∏è</div>
            <h3>Drag & Drop your photo here</h3>
            <p>or click to browse files</p>
            <input type="file" id="file-input" class="file-input" accept="image/*">
            <div id="error-message"></div>
        </div>

        <div class="preview-section" id="preview-section">
            <h3>Preview</h3>
            <img id="preview-image" class="preview-image">
            <div style="margin-top: 1.5em;">
                <a href="#" class="btn-download" id="download-btn" download="resized-4x6.jpg">Download Resized Image</a>
            </div>
        </div>
    </div>
</div>

<script>
(function() {
    'use strict';
    
    let currentUnit = 'inches';
    const INCH_TO_PIXELS = 96; // 1 inch = 96 pixels at 96 DPI
    const CM_TO_PIXELS = 37.795275591; // 1cm = 37.7953 pixels at 96 DPI
    
    function initializeResizeImageTool() {
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const unitBtns = document.querySelectorAll('.unit-btn');
        
        unitBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                unitBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentUnit = this.dataset.unit;
            });
        });

        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', handleDragOver);
        uploadArea.addEventListener('dragleave', handleDragLeave);
        uploadArea.addEventListener('drop', handleDrop);
        fileInput.addEventListener('change', handleFileSelect);
    }

    function handleDragOver(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.backgroundColor = '#F0F8FF';
        this.style.borderColor = '#4682B4';
    }

    function handleDragLeave(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.backgroundColor = '#FDFBF5';
        this.style.borderColor = '#D9534F';
    }

    function handleDrop(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.backgroundColor = '#FDFBF5';
        this.style.borderColor = '#D9534F';
        
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            handleFile(files[0]);
        }
    }

    function handleFileSelect(e) {
        const files = e.target.files;
        if (files.length > 0) {
            handleFile(files[0]);
        }
    }

    function showError(message) {
        const errorDiv = document.getElementById('error-message');
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
        setTimeout(() => {
            errorDiv.style.display = 'none';
        }, 5000);
    }

    function handleFile(file) {
        if (!file.type.startsWith('image/')) {
            showError('Please select a valid image file');
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const img = new Image();
            img.onload = function() {
                resizeImage(img);
            };
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
    }

    function resizeImage(img) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        let targetWidth, targetHeight;

        if (currentUnit === 'inches') {
            targetWidth = 4 * INCH_TO_PIXELS;  // 4 inches
            targetHeight = 6 * INCH_TO_PIXELS; // 6 inches
        } else {
            targetWidth = 10 * CM_TO_PIXELS;   // 10 cm
            targetHeight = 15 * CM_TO_PIXELS;  // 15 cm
        }

        // Set canvas dimensions
        canvas.width = targetWidth;
        canvas.height = targetHeight;

        // Clear canvas
        ctx.fillStyle = '#FFFFFF';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Calculate scaling
        const scale = Math.min(targetWidth / img.width, targetHeight / img.height);
        const scaledWidth = img.width * scale;
        const scaledHeight = img.height * scale;
        const x = (targetWidth - scaledWidth) / 2;
        const y = (targetHeight - scaledHeight) / 2;

        // Draw image
        ctx.drawImage(img, x, y, scaledWidth, scaledHeight);

        // Show preview
        const previewSection = document.getElementById('preview-section');
        const previewImage = document.getElementById('preview-image');
        const downloadBtn = document.getElementById('download-btn');
        
        previewImage.src = canvas.toDataURL('image/jpeg', 0.9);
        downloadBtn.href = canvas.toDataURL('image/jpeg', 0.9);
        downloadBtn.download = `resized-4x6-${currentUnit}.jpg`;
        previewSection.style.display = 'block';
    }

    // Initialize the tool
    initializeResizeImageTool();
})();
</script>
</body>
</html>
