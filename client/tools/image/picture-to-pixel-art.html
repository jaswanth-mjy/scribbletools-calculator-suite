<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picture to Pixel Art - FREE Photo to 8-bit Pixel Art Converter</title>
    <meta name="description" content="Free picture to pixel art converter! Transform photos into retro 8-bit pixel art, create gaming graphics, retro designs. Nostalgic pixel art generator. 100% free!">
    <meta name="keywords" content="picture to pixel art, pixel art converter, photo to pixel art, image to pixel art, 8-bit converter, retro art generator, pixel art maker, gaming art creator, nostalgic art tool, retro graphics generator, pixelate image, vintage art converter, arcade art maker, bitmap converter, low-res art generator, retro game art, pixel graphics creator, 8-bit art maker, digital art pixelizer, retro photo filter, gaming graphics tool, pixel art editor, retro image converter, vintage graphics generator, pixel art creator online, retro design tool, 8-bit image generator, pixel art filter, gaming art generator">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://scribbletools.in/client/tools/image/picture-to-pixel-art.html">
    <meta property="og:title" content="Picture to Pixel Art - FREE Photo to 8-bit Pixel Art Converter">
    <meta property="og:description" content="Free picture to pixel art converter! Transform photos into retro 8-bit pixel art, create gaming graphics, retro designs. Nostalgic pixel art generator. 100% free!">
    <meta property="og:image" content="https://scribbletools.in/assets/og-image.svg">
    <meta property="og:site_name" content="Scribble Tools">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://scribbletools.in/client/tools/image/picture-to-pixel-art.html">
    <meta property="twitter:title" content="Picture to Pixel Art - FREE Photo to 8-bit Pixel Art Converter">
    <meta property="twitter:description" content="Free picture to pixel art converter! Transform photos into retro 8-bit pixel art, create gaming graphics, retro designs. Nostalgic pixel art generator. 100% free!">
    <meta property="twitter:image" content="https://scribbletools.in/assets/og-image.svg">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="Scribble Tools">
    <meta name="generator" content="Scribble Tools">
    <meta name="application-name" content="Pixel Art Converter">
    <meta name="apple-mobile-web-app-title" content="Pixel Art Converter">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#D9534F">
    <meta name="msapplication-navbutton-color" content="#D9534F">
    <meta name="apple-mobile-web-app-status-bar-style" content="#D9534F">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://scribbletools.in/client/tools/image/picture-to-pixel-art.html">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Picture to Pixel Art Converter",
      "description": "Free online tool for converting photos into retro 8-bit pixel art. Create nostalgic gaming graphics and vintage digital art from any image.",
      "url": "https://scribbletools.in/client/tools/image/picture-to-pixel-art.html",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Convert photos to pixel art",
        "Create 8-bit retro graphics",
        "Gaming art generator",
        "Adjustable pixelation levels",
        "Vintage art effects",
        "Download pixel art images",
        "No registration required",
        "Free to use"
      ],
      "provider": {
        "@type": "Organization",
        "name": "Scribble Tools",
        "url": "https://scribbletools.in"
      }
    }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Caveat:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #F8F4E8; color: #333; margin: 0; padding: 20px; min-height: 100vh; }
        main { display: block; }
        .reduce-size-container { max-width: 800px; margin: 3em auto; background: #fff; border-radius: 1.2em; box-shadow: 0 4px 24px #eae3d5; padding: 2em 1.5em 2.5em 1.5em; }
        .handwritten { font-family: 'Caveat', cursive; }
        h1 { font-family: 'Caveat', cursive; font-size: 3em; color: #D9534F; text-align: center; margin-bottom: 1em; font-weight: 700; }
        .description { text-align: center; color: #333; margin-bottom: 2em; font-size: 1.2em; }
        .upload-area { border: 3px dashed #D9534F; border-radius: 1em; padding: 3em 2em; text-align: center; margin: 2em 0; background: #FDFBF5; transition: all 0.3s; cursor: pointer; }
        .upload-area:hover { background: #F0F8FF; border-color: #4682B4; }
        .upload-area.dragover { background: #F0F8FF; border-color: #4682B4; }
        input[type="file"] { display: none; }
        .upload-btn { background: #D9534F; color: #fff; border: none; border-radius: 0.5em; padding: 1em 2em; font-weight: 600; cursor: pointer; transition: all 0.2s; display: block; margin: 0.8em auto 0 auto; }
        .upload-btn:hover { background: #c9302c; }
        .upload-icon { font-size: 3em; color: #D9534F; margin-bottom: 1em; }
        .controls-section { display: none; background: #FDFBF5; border: 1px solid #FFEAA7; border-radius: 0.7em; padding: 1.2em; margin: 2em 0; }
        .control-group { margin-bottom: 1.5em; }
        .control-group h3 { color: #4682B4; margin-bottom: 1em; font-size: 1.2em; }
        .slider-control { margin: 1.2em 0; }
        .slider-control label { display: block; font-weight: 600; margin-bottom: 0.5em; color: #333; }
        .slider-wrapper { display: flex; align-items: center; gap: 1em; }
        .slider { flex: 1; height: 6px; border-radius: 3px; background: #EAE3D5; outline: none; -webkit-appearance: none; appearance: none; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #D9534F; cursor: pointer; }
        .slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #D9534F; cursor: pointer; border: none; }
        .slider-value { min-width: 50px; text-align: center; font-weight: bold; color: #D9534F; }
        .image-preview { display: none; text-align: center; margin: 2em 0; }
        .preview-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2em; margin: 2em 0; }
        .preview-box { text-align: center; }
        .preview-box h3 { color: #4682B4; margin-bottom: 1em; }
        .preview-box img, .preview-box canvas { max-width: 100%; max-height: 300px; border-radius: 0.5em; border: 1px solid #eee; margin: 1em 0; }
        .process-btn { background: #228B22; color: #fff; border: none; border-radius: 0.5em; padding: 1em 2em; font-weight: 600; cursor: pointer; transition: all 0.2s; width: 100%; font-size: 1.1em; }
        .process-btn:hover { background: #1e7e1e; }
        .download-btn { background: linear-gradient(135deg, #5CB85C 0%, #228B22 100%); color: #fff; border: none; border-radius: 0.5em; padding: 0.9em 2em; font-weight: 600; cursor: pointer; transition: all 0.2s; display: inline-block; margin: 0.5em; font-size: 1.08em; box-shadow: 0 2px 12px #eae3d5; text-decoration: none; }
        .download-btn:hover { background: linear-gradient(135deg, #4CAF50 0%, #1e7e1e 100%); }
        .btn-secondary { background: #D9534F; color: #fff; border: none; border-radius: 0.5em; padding: 1em 2em; font-weight: 600; cursor: pointer; transition: all 0.2s; margin: 0.5em; }
        .btn-secondary:hover { background: #c9302c; }
        .download-section { display: none; text-align: center; margin: 2em 0; }
        .conversion-success-card { display: inline-block; margin-top: 1em; background: #E8F5E8; border: 2px solid #5CB85C; border-radius: 0.7em; padding: 1.2em 1em 1.5em 1em; margin-bottom: 1em; box-shadow: 0 2px 12px #eae3d5; }
        .success-icon { font-size: 2.2em; color: #5CB85C; margin-bottom: 0.3em; }
        .success-message { font-size: 1.15em; color: #228B22; font-family: 'Caveat', cursive; margin-bottom: 0.7em; text-align: center; }
        .related-links { margin-top: 2em; font-size: 1em; }
        .related-links a { color: #D9534F; text-decoration: underline; margin-right: 1.2em; }
        .related-links a:hover { color: #357abd; }
        .step-list { margin: 1.2em 0 1.2em 1.2em; padding: 0; }
        .step-list li { margin-bottom: 0.7em; }
        .warning-box { background: #FFF3CD; border: 1px solid #FFD700; border-radius: 0.7em; padding: 1em; margin-bottom: 1.2em; color: #B8860B; font-weight: bold; font-size: 1.1em; }
        .privacy-box { background: #FFF3CD; border: 1px solid #FFEAA7; border-radius: 0.5em; padding: 1em; margin: 1em 0; font-size: 0.95em; color: #856404; }
        @media (max-width: 768px) { .reduce-size-container { margin: 1em; padding: 1em 0.2em; } .preview-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <main>
        <div class="reduce-size-container">
            <header>
                <h1 class="handwritten text-5xl text-[#D9534F] mb-4">Picture to Pixel Art</h1>
                <p style="font-size:1.2em; margin-bottom:1em;">Transform your photos into retro-style pixel art. Adjust pixel size, color palette, and filters for an 8-bit look.</p>
            </header>

            <nav class="related-links" aria-label="Related image tools">
                <strong>Related:</strong>
                <a href="/client/tools/image/pixelate-image.html">Pixelate Image</a>
                <a href="/client/tools/image/grayscale-image.html">Grayscale Image</a>
                <a href="/client/tools/image/image-compressor.html">Image Compressor</a>
                <a href="/client/tools/image/black-white-image.html">Black & White</a>
            </nav>

            <div style="background:#FFF3CD; border:1px solid #FFD700; border-radius:0.7em; padding:1em; margin:1.2em 0; color:#B8860B; font-weight:bold; font-size:1.05em;">
                🎮 <b>Create pixel-perfect art in your browser.</b> No uploads, no tracking.
            </div>

            <section aria-labelledby="instructions-title" style="background: #F8FBFF; border-radius: 0.7em; padding: 1.5em; margin: 2em 0; border: 1px solid #4682B4;">
                <h2 id="instructions-title" style="color:#4682B4; margin-bottom: 1em; font-size: 1.5em;">How to Use</h2>
                <ol class="step-list" style="margin-left: 1.5em; line-height: 1.6;">
                    <li><strong style="color: #4682B4">Upload Your Image:</strong>
                        <ul style="margin: 0.5em 0 0.5em 1.5em; color: #666;">
                            <li>Drag & drop your image into the upload area</li>
                            <li>Or click "Choose File" to browse</li>
                        </ul>
                    </li>
                    <li><strong style="color: #4682B4">Tune Settings:</strong>
                        <ul style="margin: 0.5em 0 0.5em 1.5em; color: #666;">
                            <li>Pixel Size controls the pixelation level</li>
                            <li>Color Palette limits colors for retro style</li>
                            <li>Contrast/Saturation fine-tune the look</li>
                        </ul>
                    </li>
                    <li><strong style="color: #4682B4">Generate & Download:</strong>
                        <ul style="margin: 0.5em 0 0.5em 1.5em; color: #666;">
                            <li>Click "Generate Pixel Art" to preview</li>
                            <li>Download the PNG result</li>
                        </ul>
                    </li>
                </ol>
            </section>

            <section class="example-section" style="background: #FDFBF5; border: 1px solid #FFEAA7; border-radius: 0.7em; padding: 1.5em; margin: 2em 0;">
              <h3 style="color: #4682B4; margin-bottom: 1em;">Common Uses & Tips</h3>
              <div style="margin-bottom: 1.2em;">
                <h4 style="color: #FF6B6B; margin-bottom: 0.5em;">📦 Common Uses</h4>
                <ul style="color: #666; margin-left: 1.2em;">
                  <li>Create retro avatars and profile pictures</li>
                  <li>Generate pixel art posters and thumbnails</li>
                  <li>Design game-style stickers or icons</li>
                </ul>
              </div>
              <div>
                <h4 style="color: #FF6B6B; margin-bottom: 0.5em;">💡 Pro Tips</h4>
                <ul style="color: #666; margin-left: 1.2em;">
                  <li>Higher pixel size = stronger 8-bit look</li>
                  <li>Reduce colors for authentic retro palettes</li>
                  <li>Adjust contrast/saturation to make pixels pop</li>
                </ul>
              </div>
            </section>

            <section class="privacy-section">
                <h2 style="color:#D9534F;">Privacy Notice</h2>
                <div style="background: #FFF3CD; border: 1px solid #FFEAA7; border-radius: 0.5em; padding: 1em; margin: 1em 0; font-size: 0.95em; color: #856404;">
                    <strong>🔒 Your files are never uploaded or stored. All processing happens in your browser.</strong>
                </div>
            </section>

            <div class="upload-area" id="uploadArea" tabindex="0" aria-label="Upload image area. Drag and drop or click to select an image.">
                <div class="upload-icon">🖼️</div>
                <h3>Drag & Drop your image here</h3>
                <p>or click to browse files</p>
                <input type="file" id="imageInput" accept="image/*" aria-label="Choose image file">
                <button class="upload-btn" id="choose-file-btn" aria-label="Choose File">Choose File</button>
            </div>

            <div class="controls-section" id="controlsSection">
                <div class="control-group">
                    <h3>🎨 Pixel Art Settings</h3>
                    
                    <div class="slider-control">
                        <label for="pixelSize">🔳 Pixel Size</label>
                        <div class="slider-wrapper">
                            <input type="range" id="pixelSize" class="slider" min="4" max="32" value="8">
                            <span class="slider-value" id="pixelSizeValue">8px</span>
                        </div>
                    </div>
                    
                    <div class="slider-control">
                        <label for="colorReduction">🎨 Color Palette</label>
                        <div class="slider-wrapper">
                            <input type="range" id="colorReduction" class="slider" min="8" max="64" value="16" step="8">
                            <span class="slider-value" id="colorReductionValue">16 colors</span>
                        </div>
                    </div>
                    
                    <div class="slider-control">
                        <label for="contrast">🌟 Contrast</label>
                        <div class="slider-wrapper">
                            <input type="range" id="contrast" class="slider" min="50" max="200" value="100">
                            <span class="slider-value" id="contrastValue">100%</span>
                        </div>
                    </div>
                    
                    <div class="slider-control">
                        <label for="saturation">🌈 Saturation</label>
                        <div class="slider-wrapper">
                            <input type="range" id="saturation" class="slider" min="50" max="200" value="100">
                            <span class="slider-value" id="saturationValue">100%</span>
                        </div>
                    </div>

                    <button class="process-btn" onclick="generatePixelArt()" id="generateBtn">
                        🎮 Generate Pixel Art
                    </button>
                </div>
            </div>

            <div class="image-preview" id="imagePreview">
                <div class="preview-container">
                    <div class="preview-box">
                        <h3>📷 Original Image</h3>
                        <img id="originalImage" alt="Original image">
                    </div>
                    <div class="preview-box">
                        <h3>🎮 Pixel Art</h3>
                        <canvas id="pixelCanvas"></canvas>
                    </div>
                </div>
            </div>

            <div class="download-section" id="downloadSection">
                <div class="conversion-success-card">
                    <div class="success-icon">✅</div>
                    <div class="success-message">Your pixel art is ready!</div>
                    <a href="#" class="download-btn" onclick="downloadPixelArt(); return false;">Download Pixel Art</a>
                    <button class="btn-secondary" onclick="resetTool()">🔄 Create Another Pixel Art</button>
                </div>
            </div>

            <section class="feature-list" style="background: #FDFBF5; border-radius: 0.7em; padding: 1.2em; margin: 2em 0; border: 1px solid #FFEAA7;">
                <h2 style="color: #4682B4; margin-bottom: 1em;">Key Features</h2>
                <ul style="list-style: none; padding-left: 0;">
                    <li>✓ Adjustable pixel size and color palette</li>
                    <li>✓ Contrast and saturation controls</li>
                    <li>✓ Instant preview and PNG download</li>
                    <li>✓ Works entirely in your browser (privacy-first)</li>
                </ul>
            </section>

            <nav class="recent-tools" aria-label="Recently used tools" style="background: #F8F9FA; border-radius: 0.7em; padding: 1.2em; margin: 1.5em 0;">
                <strong>Recent Tools:</strong>
                <div class="recent-tools-list" style="display: inline-block;">
                    <a href="/client/tools/image/pixelate-image.html">Pixelate Image</a>
                    <a href="/client/tools/image/image-converter.html">Image Converter</a>
                    <a href="/client/tools/image/image-compressor.html">Image Compressor</a>
                    <span class="separator" style="margin: 0 0.5em; color: #999;">•</span>
                    <a href="#" id="clear-recent" style="color: #D9534F; font-size: 0.9em;">Clear History</a>
                </div>
            </nav>
        </div>
    </main>

    <script>
// Recent tools functionality (shared pattern)
const RECENT_TOOLS_KEY = 'recentImageTools';
const MAX_RECENT_TOOLS = 4;
function initRecentTools() {
  const currentToolData = { name: 'Picture to Pixel Art', url: window.location.pathname };
  addToRecentTools(currentToolData);
  updateRecentToolsList();
  const clearRecentBtn = document.getElementById('clear-recent');
  if (clearRecentBtn) {
    clearRecentBtn.onclick = function(e) {
      e.preventDefault();
      localStorage.removeItem(RECENT_TOOLS_KEY);
      updateRecentToolsList();
    };
  }
}
function addToRecentTools(toolData) {
  let recentTools = JSON.parse(localStorage.getItem(RECENT_TOOLS_KEY) || '[]');
  recentTools = recentTools.filter(tool => tool.url !== toolData.url);
  recentTools.unshift(toolData);
  recentTools = recentTools.slice(0, MAX_RECENT_TOOLS);
  localStorage.setItem(RECENT_TOOLS_KEY, JSON.stringify(recentTools));
}
function updateRecentToolsList() {
  const recentToolsList = document.querySelector('.recent-tools-list');
  if (!recentToolsList) return;
  const recentTools = JSON.parse(localStorage.getItem(RECENT_TOOLS_KEY) || '[]');
  if (recentTools.length === 0) {
    recentToolsList.innerHTML = '<span style="color: #666;">No recent tools</span>';
    return;
  }
  const toolLinks = recentTools
    .filter(tool => tool.url !== window.location.pathname)
    .map(tool => `<a href="${tool.url}">${tool.name}</a>`)
    .join('<span class="separator" style="margin: 0 0.5em; color: #999;">•</span>');
  recentToolsList.innerHTML = toolLinks +
    '<span class="separator" style="margin: 0 0.5em; color: #999;">•</span>' +
    '<a href="#" id="clear-recent" style="color: #D9534F; font-size: 0.9em;">Clear History</a>';
  const clearRecentBtn = document.getElementById('clear-recent');
  if (clearRecentBtn) {
    clearRecentBtn.onclick = function(e) {
      e.preventDefault();
      localStorage.removeItem(RECENT_TOOLS_KEY);
      updateRecentToolsList();
    };
  }
}
if (document.readyState !== 'loading') { initRecentTools(); } else { document.addEventListener('DOMContentLoaded', initRecentTools); }
        const imageInput = document.getElementById('imageInput');
        const uploadArea = document.getElementById('uploadArea');
        const chooseFileBtn = document.getElementById('choose-file-btn');
        const controlsSection = document.getElementById('controlsSection');
        const imagePreview = document.getElementById('imagePreview');
        const originalImage = document.getElementById('originalImage');
        const pixelCanvas = document.getElementById('pixelCanvas');
        const downloadSection = document.getElementById('downloadSection');
        const pixelSizeSlider = document.getElementById('pixelSize');
        const colorReductionSlider = document.getElementById('colorReduction');
        const contrastSlider = document.getElementById('contrast');
        const saturationSlider = document.getElementById('saturation');
        const pixelSizeValue = document.getElementById('pixelSizeValue');
        const colorReductionValue = document.getElementById('colorReductionValue');
        const contrastValue = document.getElementById('contrastValue');
        const saturationValue = document.getElementById('saturationValue');

        let currentImage = null;

        const generateBtnEl = document.getElementById('generateBtn');
        if (generateBtnEl) {
            generateBtnEl.addEventListener('click', (e) => {
                e.preventDefault();
                generatePixelArt();
            });
        }

        // Click/keyboard and Drag-and-drop functionality
        if (chooseFileBtn) {
            chooseFileBtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); imageInput.click(); });
        }
        uploadArea.addEventListener('click', (e) => {
            if (e.target === uploadArea) imageInput.click();
        });
        uploadArea.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); imageInput.click(); }
        });
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleImageUpload(files[0]);
            }
        });

        imageInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleImageUpload(e.target.files[0]);
            }
        });

        // Slider updates
        pixelSizeSlider.addEventListener('input', (e) => {
            pixelSizeValue.textContent = e.target.value + 'px';
        });

        colorReductionSlider.addEventListener('input', (e) => {
            colorReductionValue.textContent = e.target.value + ' colors';
        });

        contrastSlider.addEventListener('input', (e) => {
            contrastValue.textContent = e.target.value + '%';
        });

        saturationSlider.addEventListener('input', (e) => {
            saturationValue.textContent = e.target.value + '%';
        });

        function handleImageUpload(file) {
            if (!file.type.startsWith('image/')) {
                alert('Please select an image file.');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    currentImage = img;
                    originalImage.src = e.target.result;
                    controlsSection.style.display = 'block';
                    imagePreview.style.display = 'none';
                    downloadSection.style.display = 'none';
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        function generatePixelArt() {
            if (!currentImage) { alert('Please upload an image first.'); return; }

            const canvas = pixelCanvas;
            if (!canvas) { alert('Canvas not available. Please reload the page.'); return; }
            const ctx = canvas.getContext('2d');
            if (!ctx) { alert('Unable to initialize canvas context.'); return; }
            const pixelSize = parseInt(pixelSizeSlider.value);
            const colorCount = parseInt(colorReductionSlider.value);
            const contrast = parseInt(contrastSlider.value);
            const saturation = parseInt(saturationSlider.value);

            // Set canvas size to match original image
            canvas.width = currentImage.width;
            canvas.height = currentImage.height;

            // Apply filters and pixelation
            ctx.filter = `contrast(${contrast}%) saturate(${saturation}%)`;
            
            // Create pixelated effect
            ctx.imageSmoothingEnabled = false;

            // Calculate dimensions for pixelated version
            const scaledWidth = Math.ceil(canvas.width / pixelSize);
            const scaledHeight = Math.ceil(canvas.height / pixelSize);

            // Create temporary canvas for pixelation
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = scaledWidth;
            tempCanvas.height = scaledHeight;

            // Draw scaled down version
            tempCtx.drawImage(currentImage, 0, 0, scaledWidth, scaledHeight);

            // Draw scaled up version (pixelated)
            ctx.drawImage(tempCanvas, 0, 0, scaledWidth, scaledHeight, 0, 0, canvas.width, canvas.height);

            // Apply color reduction
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            reduceColors(imageData, colorCount);
            ctx.putImageData(imageData, 0, 0);

            imagePreview.style.display = 'block';
            downloadSection.style.display = 'block';
        }

        function reduceColors(imageData, colorCount) {
            const data = imageData.data;
            const colorStep = Math.floor(256 / colorCount);
            
            for (let i = 0; i < data.length; i += 4) {
                data[i] = Math.floor(data[i] / colorStep) * colorStep;     // Red
                data[i + 1] = Math.floor(data[i + 1] / colorStep) * colorStep; // Green
                data[i + 2] = Math.floor(data[i + 2] / colorStep) * colorStep; // Blue
            }
        }

        function downloadPixelArt() {
            const link = document.createElement('a');
            link.download = 'pixel-art.png';
            link.href = pixelCanvas.toDataURL('image/png');
            link.click();
        }

        function resetTool() {
            controlsSection.style.display = 'none';
            imagePreview.style.display = 'none';
            downloadSection.style.display = 'none';
            
            // Reset controls
            pixelSizeSlider.value = 8;
            colorReductionSlider.value = 16;
            contrastSlider.value = 100;
            saturationSlider.value = 100;
            pixelSizeValue.textContent = '8px';
            colorReductionValue.textContent = '16 colors';
            contrastValue.textContent = '100%';
            saturationValue.textContent = '100%';
            
            imageInput.value = '';
            currentImage = null;
        }

        // Initialize the tool
        function initializePictureToPixelArtTool() {
            console.log('Picture to Pixel Art tool initialized');
        }

        // Make the initialization function available globally
        window.initializePictureToPixelArtTool = initializePictureToPixelArtTool;

        // Auto-initialize when the script loads
        initializePictureToPixelArtTool();
    </script>
</body>
</html>
