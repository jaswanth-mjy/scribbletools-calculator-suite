<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Class Schedule Builder - Create & Download Your Weekly Schedule | Student Tools</title>
    <meta name="description" content="Free class schedule builder for students. Create visual weekly schedules, organize classes by time slots, add course details, and download as PDF. Perfect for planning your academic week.">
    <meta name="keywords" content="class schedule builder, weekly schedule, timetable maker, student schedule, class planner, course schedule, academic timetable, schedule creator, PDF schedule">
    <meta name="author" content="Scribble Tools">
    <meta name="robots" content="index, follow">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Caveat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --bg-light: #f9fafb;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-primary);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-family: 'Caveat', cursive;
            font-size: 3rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .back-btn {
            position: absolute;
            left: 20px;
            top: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .back-btn:hover {
            background: white;
            color: var(--primary-color);
        }

        .content {
            padding: 40px;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-light);
            border-radius: 12px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group-btn {
            justify-content: flex-end;
        }

        .form-group label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(16, 185, 129, 0.3);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .schedule-container {
            background: white;
            border-radius: 12px;
            overflow-x: auto;
            box-shadow: var(--shadow);
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
        }

        .schedule-table th,
        .schedule-table td {
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .schedule-table th {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .schedule-table th:first-child {
            background: #4c51bf;
        }

        .schedule-table td {
            background: white;
            min-height: 80px;
            vertical-align: top;
            position: relative;
        }

        .time-slot {
            background: var(--bg-light);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .class-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 12px;
            border-radius: 8px;
            margin: 4px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid var(--warning-color);
            position: relative;
        }

        .class-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .class-card h4 {
            font-size: 0.9rem;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .class-card p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin: 2px 0;
        }

        .class-card .remove-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: var(--danger-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .empty-slot {
            color: var(--text-secondary);
            font-size: 0.85rem;
            padding: 20px;
            font-style: italic;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid var(--border-color);
        }

        .stat-card i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .stat-card h3 {
            font-size: 2rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 12px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 0.95rem;
            }

            .content {
                padding: 20px;
            }

            .controls {
                grid-template-columns: 1fr;
                padding: 15px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .back-btn {
                position: static;
                margin-bottom: 15px;
                display: flex;
                width: auto;
                font-size: 0.9rem;
                padding: 8px 16px;
            }

            .schedule-container {
                margin: 0 -20px;
                border-radius: 0;
            }

            .schedule-table {
                font-size: 0.85rem;
            }

            .schedule-table th,
            .schedule-table td {
                padding: 10px 8px;
                min-width: 100px;
            }

            .class-card {
                padding: 8px;
                margin: 2px;
            }

            .class-card h4 {
                font-size: 0.8rem;
            }

            .class-card p {
                font-size: 0.7rem;
            }

            .stats {
                grid-template-columns: 1fr;
            }

            .stat-card {
                padding: 15px;
            }
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .controls,
            .action-buttons,
            .stats,
            .header p,
            .back-btn {
                display: none !important;
            }

            .container {
                box-shadow: none;
            }

            .class-card .remove-btn {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <a href="javascript:history.back()" class="back-btn" onclick="window.history.back(); return false;">
                <i class="fas fa-arrow-left"></i> Back to Home
            </a>
            <h1>Class Schedule Builder</h1>
            <p>Create, organize, and download your weekly class schedule</p>
        </header>

        <div class="content">
            <!-- Add Class Form -->
            <div class="controls">
                <div class="form-group">
                    <label for="className"><i class="fas fa-book"></i> Class Name</label>
                    <input type="text" id="className" placeholder="e.g., Mathematics 101" required>
                </div>
                <div class="form-group">
                    <label for="instructor"><i class="fas fa-user-tie"></i> Instructor</label>
                    <input type="text" id="instructor" placeholder="e.g., Dr. Smith">
                </div>
                <div class="form-group">
                    <label for="room"><i class="fas fa-door-open"></i> Room</label>
                    <input type="text" id="room" placeholder="e.g., Room 301">
                </div>
                <div class="form-group">
                    <label for="day"><i class="fas fa-calendar-day"></i> Day</label>
                    <select id="day" required>
                        <option value="">Select Day</option>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="timeSlot"><i class="fas fa-clock"></i> Time Slot</label>
                    <select id="timeSlot" required>
                        <option value="">Select Time</option>
                        <option value="08:00 - 09:00">08:00 - 09:00 AM</option>
                        <option value="09:00 - 10:00">09:00 - 10:00 AM</option>
                        <option value="10:00 - 11:00">10:00 - 11:00 AM</option>
                        <option value="11:00 - 12:00">11:00 - 12:00 PM</option>
                        <option value="12:00 - 01:00">12:00 - 01:00 PM</option>
                        <option value="01:00 - 02:00">01:00 - 02:00 PM</option>
                        <option value="02:00 - 03:00">02:00 - 03:00 PM</option>
                        <option value="03:00 - 04:00">03:00 - 04:00 PM</option>
                        <option value="04:00 - 05:00">04:00 - 05:00 PM</option>
                        <option value="05:00 - 06:00">05:00 - 06:00 PM</option>
                    </select>
                </div>
                <div class="form-group form-group-btn">
                    <label>&nbsp;</label>
                    <button class="btn btn-primary" onclick="addClass()">
                        <i class="fas fa-plus"></i> Add Class
                    </button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-success" onclick="downloadPDF()">
                    <i class="fas fa-file-pdf"></i> Download as PDF
                </button>
                <button class="btn btn-primary" onclick="printSchedule()">
                    <i class="fas fa-print"></i> Print Schedule
                </button>
                <button class="btn btn-danger" onclick="clearSchedule()">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>

            <!-- Schedule Table -->
            <div class="schedule-container" id="scheduleContainer">
                <table class="schedule-table" id="scheduleTable">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednesday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                            <th>Saturday</th>
                            <th>Sunday</th>
                        </tr>
                    </thead>
                    <tbody id="scheduleBody">
                        <!-- Schedule will be generated here -->
                    </tbody>
                </table>
            </div>

            <!-- Statistics -->
            <div class="stats">
                <div class="stat-card">
                    <i class="fas fa-book-open"></i>
                    <h3 id="totalClasses">0</h3>
                    <p>Total Classes</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h3 id="totalHours">0</h3>
                    <p>Hours per Week</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-check"></i>
                    <h3 id="busiestDay">-</h3>
                    <p>Busiest Day</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const timeSlots = [
            '08:00 - 09:00', '09:00 - 10:00', '10:00 - 11:00', '11:00 - 12:00', '12:00 - 01:00',
            '01:00 - 02:00', '02:00 - 03:00', '03:00 - 04:00', '04:00 - 05:00', '05:00 - 06:00'
        ];
        const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
        let schedule = {};

        function initializeSchedule() {
            console.log('Initializing Class Schedule Builder');
            timeSlots.forEach(time => {
                schedule[time] = {};
                days.forEach(day => { schedule[time][day] = null; });
            });
            loadSchedule();
            renderSchedule();
            updateStats();
        }

        function addClass() {
            const className = document.getElementById('className').value.trim();
            const instructor = document.getElementById('instructor').value.trim();
            const room = document.getElementById('room').value.trim();
            const day = document.getElementById('day').value;
            const timeSlot = document.getElementById('timeSlot').value;

            if (!className || !day || !timeSlot) {
                alert('Please fill in Class Name, Day, and Time Slot');
                return;
            }

            if (schedule[timeSlot][day] && !confirm('This time slot already has a class. Replace it?')) return;

            schedule[timeSlot][day] = { name: className, instructor, room };
            saveSchedule();
            renderSchedule();
            updateStats();

            document.getElementById('className').value = '';
            document.getElementById('instructor').value = '';
            document.getElementById('room').value = '';
            document.getElementById('day').value = '';
            document.getElementById('timeSlot').value = '';

            showNotification('Class added successfully!', 'success');
        }

        function renderSchedule() {
            const tbody = document.getElementById('scheduleBody');
            tbody.innerHTML = '';
            timeSlots.forEach(time => {
                const row = document.createElement('tr');
                const timeCell = document.createElement('td');
                timeCell.className = 'time-slot';
                timeCell.textContent = time;
                row.appendChild(timeCell);

                days.forEach(day => {
                    const cell = document.createElement('td');
                    const classData = schedule[time][day];
                    if (classData) {
                        cell.innerHTML = `
                            <div class="class-card">
                                <button class="remove-btn" onclick="removeClass('${time}', '${day}')" title="Remove">
                                    <i class="fas fa-times"></i>
                                </button>
                                <h4>${classData.name}</h4>
                                ${classData.instructor ? `<p><i class="fas fa-user-tie"></i> ${classData.instructor}</p>` : ''}
                                ${classData.room ? `<p><i class="fas fa-door-open"></i> ${classData.room}</p>` : ''}
                            </div>
                        `;
                    } else {
                        cell.innerHTML = '<div class="empty-slot">-</div>';
                    }
                    row.appendChild(cell);
                });
                tbody.appendChild(row);
            });
        }

        function removeClass(time, day) {
            if (confirm('Remove this class?')) {
                schedule[time][day] = null;
                saveSchedule();
                renderSchedule();
                updateStats();
                showNotification('Class removed', 'success');
            }
        }

        function updateStats() {
            let totalClasses = 0;
            const dayCount = {};
            days.forEach(day => dayCount[day] = 0);

            timeSlots.forEach(time => {
                days.forEach(day => {
                    if (schedule[time][day]) {
                        totalClasses++;
                        dayCount[day]++;
                    }
                });
            });

            document.getElementById('totalClasses').textContent = totalClasses;
            document.getElementById('totalHours').textContent = totalClasses;

            let busiestDay = '-', maxClasses = 0;
            Object.keys(dayCount).forEach(day => {
                if (dayCount[day] > maxClasses) {
                    maxClasses = dayCount[day];
                    busiestDay = day;
                }
            });
            document.getElementById('busiestDay').textContent = busiestDay;
        }

        function clearSchedule() {
            if (confirm('Clear entire schedule?')) {
                timeSlots.forEach(time => days.forEach(day => schedule[time][day] = null));
                saveSchedule();
                renderSchedule();
                updateStats();
                showNotification('Schedule cleared', 'success');
            }
        }

        function saveSchedule() { 
            localStorage.setItem('classSchedule_app', JSON.stringify(schedule)); 
        }
        
        function loadSchedule() {
            const saved = localStorage.getItem('classSchedule_app');
            if (saved) schedule = JSON.parse(saved);
        }

        function printSchedule() { window.print(); }

        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            showNotification('Generating PDF...', 'info');
            const element = document.getElementById('scheduleContainer');
            
            html2canvas(element, { scale: 2, useCORS: true, logging: false }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF('l', 'mm', 'a4');
                const imgWidth = 280;
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);
                pdf.save('class-schedule.pdf');
                showNotification('PDF downloaded!', 'success');
            }).catch(error => {
                console.error('PDF error:', error);
                showNotification('Error generating PDF', 'error');
            });
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `position:fixed;top:20px;right:20px;padding:15px 25px;background:${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};color:white;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.2);z-index:10000;font-weight:500;animation:slideIn 0.3s ease;`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => { 
                notification.style.animation = 'slideOut 0.3s ease'; 
                setTimeout(() => notification.remove(), 300); 
            }, 3000);
        }

        const style = document.createElement('style');
        style.textContent = `@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}`;
        document.head.appendChild(style);

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeSchedule);
    </script>
</body>
</html>
