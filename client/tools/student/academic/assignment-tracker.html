<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Tracker - FREE Student Assignment & Deadline Manager</title>
    <meta name="description" content="Free assignment tracker! Manage homework, track deadlines, organize student tasks. Academic planner for better grades. 100% free!">
    <meta name="keywords" content="assignment tracker, homework tracker, student planner, deadline manager, academic organizer, homework planner, student task manager, assignment manager, study planner, homework scheduler, academic calendar, student productivity, assignment deadlines, homework organizer, school planner, student organization tool, academic tracker, homework reminder, assignment calendar, student dashboard">
    <meta name="author" content="AllInOne.Tools">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://allinone.tools/client/tools/student/academic/assignment-tracker.html">
    <meta property="og:title" content="Assignment Tracker - FREE Student Assignment & Deadline Manager">
    <meta property="og:description" content="Free assignment tracker! Manage homework, track deadlines, organize student tasks. Academic planner for better grades. 100% free!">
    <meta property="og:image" content="https://allinone.tools/assets/og-image.svg">
    <meta property="og:site_name" content="AllInOne.Tools">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://allinone.tools/client/tools/student/academic/assignment-tracker.html">
    <meta property="twitter:title" content="Assignment Tracker - FREE Student Assignment & Deadline Manager">
    <meta property="twitter:description" content="Free assignment tracker! Manage homework, track deadlines, organize student tasks. Academic planner for better grades. 100% free!">
    <meta property="twitter:image" content="https://allinone.tools/assets/og-image.svg">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="AllInOne.Tools">
    <meta name="generator" content="AllInOne.Tools">
    <meta name="application-name" content="Assignment Tracker">
    <meta name="apple-mobile-web-app-title" content="Assignments">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#D9534F">
    <meta name="msapplication-navbutton-color" content="#D9534F">
    <meta name="apple-mobile-web-app-status-bar-style" content="#D9534F">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://allinone.tools/client/tools/student/academic/assignment-tracker.html">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Student Assignment & Deadline Tracker",
      "description": "Free online assignment tracker for students to manage homework, deadlines, and academic tasks. Improve productivity and organization.",
      "url": "https://allinone.tools/client/tools/student/academic/assignment-tracker.html",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Assignment tracking",
        "Deadline management",
        "Homework organizer",
        "Task prioritization",
        "Academic calendar",
        "Student productivity",
        "No registration required",
        "Free to use"
      ],
      "provider": {
        "@type": "Organization",
        "name": "AllInOne.Tools",
        "url": "https://allinone.tools"
      }
    }
    </script>
    <style>
        body { font-family: 'Poppins', sans-serif; background: #F8F4E8; color: #333; margin: 0; padding: 20px; }
        .tracker-container { max-width: 1000px; margin: 2em auto 4em auto; background: #fff; border-radius: 1.2em; box-shadow: 0 4px 24px #eae3d5; padding: 2em; }
        .tracker-container .handwritten { font-family: 'Caveat', cursive !important; color: #D9534F !important; font-size: 2.5rem !important; text-align: center !important; margin-bottom: 1.5rem !important; cursor: default !important; }
        
        .form-section { background: #FDFBF5; border: 2px solid #EAE3D5; border-radius: 0.9em; padding: 1.5em; margin-bottom: 2em; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1em; margin-bottom: 1em; }
        .form-group { display: flex; flex-direction: column; }
        .form-label { font-weight: 600; margin-bottom: 0.5em; color: #333; }
        .form-input, .form-select, .form-textarea { padding: 0.8em; border: 2px solid #EAE3D5; border-radius: 0.7em; font-size: 1rem; background: #FDFBF5; font-family: 'Fira Code', monospace; }
        .form-textarea { resize: vertical; min-height: 80px; font-family: 'Poppins', sans-serif; }
        .form-btn { background: #fff; color: #D9534F; border: 2px solid #D9534F; border-radius: 0.5em; padding: 0.8em 2em; font-weight: 600; font-size: 1.1em; cursor: pointer; transition: all 0.2s; margin-top: 1em; }
        .form-btn:hover { background: #D9534F; color: #fff; }
        
        .assignments-section { margin-top: 2em; }
        .assignments-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1em; flex-wrap: wrap; gap: 1em; }
        .toolbar-actions { display: flex; gap: 2em; flex-wrap: wrap; align-items: center; }
        .filter-controls { display: flex; gap: 1em; flex-wrap: wrap; }
        .export-controls { display: flex; gap: 1em; flex-wrap: wrap; }
        .filter-btn { background: #fff; color: #666; border: 1px solid #ddd; border-radius: 0.5em; padding: 0.5em 1em; cursor: pointer; transition: all 0.2s; }
        .filter-btn.active { background: #D9534F; color: #fff; border-color: #D9534F; }
        .export-btn { background: #3498DB; color: white; border: none; border-radius: 0.5em; padding: 0.5em 1em; cursor: pointer; transition: all 0.2s; font-size: 0.9em; }
        .export-btn:hover { background: #2980B9; transform: translateY(-2px); }
        .calendar-info { margin-top: 1em; padding: 1em; background: #E8F5FF; border: 1px solid #3498DB; border-radius: 0.5em; font-size: 0.9em; }
        
        .assignment-list { display: grid; gap: 1em; }
        .assignment-card { background: #FDFBF5; border: 2px solid #EAE3D5; border-radius: 0.9em; padding: 1.5em; position: relative; transition: all 0.3s; }
        .assignment-card:hover { box-shadow: 0 4px 16px rgba(217, 83, 79, 0.1); }
        .assignment-card.high-priority { border-left: 6px solid #D9534F; }
        .assignment-card.medium-priority { border-left: 6px solid #F39C12; }
        .assignment-card.low-priority { border-left: 6px solid #27AE60; }
        .assignment-card.completed { opacity: 0.7; background: #E8F5E8; }
        
        .assignment-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1em; }
        .assignment-title { font-size: 1.2em; font-weight: bold; color: #333; margin: 0; }
        .assignment-course { color: #666; font-size: 0.9em; margin-top: 0.2em; }
        .assignment-actions { display: flex; gap: 0.5em; }
        .action-btn { background: none; border: 1px solid #ddd; border-radius: 0.3em; padding: 0.3em 0.6em; cursor: pointer; font-size: 0.8em; transition: all 0.2s; }
        .edit-btn:hover { background: #F39C12; color: white; border-color: #F39C12; }
        .delete-btn:hover { background: #D9534F; color: white; border-color: #D9534F; }
        .complete-btn:hover { background: #27AE60; color: white; border-color: #27AE60; }
        .calendar-btn:hover { background: #3498DB; color: white; border-color: #3498DB; }
        
        .assignment-details { margin-bottom: 1em; }
        .assignment-due { font-weight: bold; color: #D9534F; }
        .assignment-priority { display: inline-block; padding: 0.2em 0.6em; border-radius: 1em; font-size: 0.8em; font-weight: bold; text-transform: uppercase; }
        .priority-high { background: #FFE6E6; color: #D9534F; }
        .priority-medium { background: #FFF3E0; color: #F39C12; }
        .priority-low { background: #E8F5E8; color: #27AE60; }
        
        .progress-section { margin-top: 1em; }
        .progress-bar { background: #f0f0f0; border-radius: 1em; height: 8px; overflow: hidden; margin-top: 0.5em; }
        .progress-fill { background: linear-gradient(90deg, #27AE60, #2ECC71); height: 100%; transition: width 0.3s; }
        .progress-text { font-size: 0.9em; color: #666; margin-bottom: 0.5em; }
        
        .empty-state { text-align: center; padding: 3em; color: #666; }
        .empty-state-icon { font-size: 4em; margin-bottom: 0.5em; }
        
        .disclaimer { 
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); 
            border: 1px solid #f1c40f; 
            border-radius: 8px; 
            padding: 15px; 
            margin-bottom: 20px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 768px) {
            .tracker-container { padding: 1em; margin: 1em; }
            .form-grid { grid-template-columns: 1fr; }
            .assignments-header { flex-direction: column; gap: 1em; align-items: stretch; }
            .toolbar-actions { flex-direction: column; gap: 1em; width: 100%; }
            .filter-controls, .export-controls { justify-content: center; }
            .assignment-header { flex-direction: column; gap: 1em; }
            .assignment-actions { justify-content: flex-start; flex-wrap: wrap; }
        }
    </style>
</head>
<body>
        <div class="tracker-container">
        <h1 class="handwritten">Assignment Tracker</h1>
        
        <div class="disclaimer">
            <strong>⚠️ Data Storage Notice:</strong> Your assignments are stored locally in your browser. 
            <strong>If you clear your browser cache or data, all assignments will be lost!</strong> 
            We recommend regularly exporting your assignments using the calendar export feature below to backup your data.
        </div>
        
        <!-- Add Assignment Form -->
        <div class="form-section">
            <h3>Add New Assignment</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label" for="title">Assignment Title *</label>
                    <input type="text" id="title" class="form-input" placeholder="e.g. Math Homework Ch. 5" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="course">Course/Subject</label>
                    <input type="text" id="course" class="form-input" placeholder="e.g. Mathematics">
                </div>
                <div class="form-group">
                    <label class="form-label" for="dueDate">Due Date *</label>
                    <input type="date" id="dueDate" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="dueTime">Due Time *</label>
                    <input type="time" id="dueTime" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="priority">Priority</label>
                    <select id="priority" class="form-select">
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                        <option value="low">Low</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label" for="description">Description</label>
                <textarea id="description" class="form-textarea" placeholder="Assignment details, requirements, notes..."></textarea>
            </div>
            <button id="addBtn" class="form-btn">Add Assignment</button>
            
            <div class="calendar-info">
                <strong>📅 Calendar Integration:</strong> Use the calendar buttons (📅) to export assignments to Outlook, Google Calendar, Apple Calendar, and other calendar apps. The .ics files include reminders 1 day and 2 hours before due dates.
            </div>
        </div>
        
        <!-- Assignments List -->
        <div class="assignments-section">
            <div class="assignments-header">
                <h3>Your Assignments</h3>
                <div class="toolbar-actions">
                    <div class="filter-controls">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="pending">Pending</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                        <button class="filter-btn" data-filter="overdue">Overdue</button>
                    </div>
                    <div class="export-controls">
                        <button id="exportAllBtn" class="export-btn" title="Export all assignments to calendar">📅 Export All</button>
                        <button id="exportPendingBtn" class="export-btn" title="Export pending assignments to calendar">📋 Export Pending</button>
                    </div>
                </div>
            </div>
            <div class="assignment-list" id="assignmentList">
                <div class="empty-state">
                    <div class="empty-state-icon">📚</div>
                    <h3>No assignments yet</h3>
                    <p>Add your first assignment using the form above!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        class AssignmentTracker {
            constructor() {
                this.assignments = this.loadAssignments();
                this.currentFilter = 'all';
                this.editingId = null;
                this.init();
            }

            init() {
                this.bindEvents();
                this.renderAssignments();
                this.setMinDateTime();
            }

            bindEvents() {
                const addBtn = document.getElementById('addBtn');
                if (addBtn) {
                    addBtn.addEventListener('click', () => this.addOrUpdateAssignment());
                }
                
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.setFilter(e.target.dataset.filter);
                    });
                });
                
                // Add Enter key support for form submission
                const form = document.querySelector('.form-section');
                if (form) {
                    form.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' && e.target.tagName === 'INPUT') {
                            e.preventDefault();
                            this.addOrUpdateAssignment();
                        }
                    });
                }

                // Export buttons
                const exportAllBtn = document.getElementById('exportAllBtn');
                const exportPendingBtn = document.getElementById('exportPendingBtn');
                
                if (exportAllBtn) {
                    exportAllBtn.addEventListener('click', () => this.exportAllToCalendar());
                }
                
                if (exportPendingBtn) {
                    exportPendingBtn.addEventListener('click', () => this.exportPendingToCalendar());
                }
            }

            setMinDateTime() {
                const now = new Date();
                const today = now.toISOString().split('T')[0];
                
                const dueDateInput = document.getElementById('dueDate');
                const dueTimeInput = document.getElementById('dueTime');
                
                if (dueDateInput) {
                    dueDateInput.min = today;
                    // Set default to tomorrow
                    const tomorrow = new Date(now);
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    dueDateInput.value = tomorrow.toISOString().split('T')[0];
                }
                
                if (dueTimeInput) {
                    // Set default time to 11:59 PM
                    dueTimeInput.value = '23:59';
                }
            }

            addOrUpdateAssignment() {
                const titleEl = document.getElementById('title');
                const courseEl = document.getElementById('course');
                const dueDateEl = document.getElementById('dueDate');
                const dueTimeEl = document.getElementById('dueTime');
                const priorityEl = document.getElementById('priority');
                const descriptionEl = document.getElementById('description');

                if (!titleEl || !dueDateEl || !dueTimeEl) {
                    alert('Error: Form elements not found. Please refresh the page.');
                    return;
                }

                const title = titleEl.value.trim();
                const course = courseEl ? courseEl.value.trim() : '';
                const dueDate = dueDateEl.value;
                const dueTime = dueTimeEl.value;
                const priority = priorityEl ? priorityEl.value : 'medium';
                const description = descriptionEl ? descriptionEl.value.trim() : '';

                if (!title) {
                    alert('Please enter an assignment title');
                    titleEl.focus();
                    return;
                }
                
                if (!dueDate) {
                    alert('Please select a due date');
                    dueDateEl.focus();
                    return;
                }

                if (!dueTime) {
                    alert('Please select a due time');
                    dueTimeEl.focus();
                    return;
                }

                // Combine date and time into ISO string
                const combinedDateTime = `${dueDate}T${dueTime}:00`;

                const assignment = {
                    id: this.editingId || Date.now(),
                    title,
                    course,
                    dueDate: combinedDateTime,
                    priority,
                    description,
                    completed: false,
                    progress: 0,
                    createdAt: this.editingId ? this.assignments.find(a => a.id === this.editingId).createdAt : Date.now()
                };

                if (this.editingId) {
                    const index = this.assignments.findIndex(a => a.id === this.editingId);
                    if (index !== -1) {
                        this.assignments[index] = assignment;
                    }
                    this.editingId = null;
                    const addBtn = document.getElementById('addBtn');
                    if (addBtn) addBtn.textContent = 'Add Assignment';
                } else {
                    this.assignments.push(assignment);
                }

                this.saveAssignments();
                this.renderAssignments();
                this.clearForm();
            }

            editAssignment(id) {
                const assignment = this.assignments.find(a => a.id === id);
                if (assignment) {
                    document.getElementById('title').value = assignment.title;
                    document.getElementById('course').value = assignment.course;
                    
                    // Split datetime into separate date and time
                    const dateTime = new Date(assignment.dueDate);
                    const date = dateTime.toISOString().split('T')[0];
                    const time = dateTime.toTimeString().slice(0, 5);
                    
                    document.getElementById('dueDate').value = date;
                    document.getElementById('dueTime').value = time;
                    document.getElementById('priority').value = assignment.priority;
                    document.getElementById('description').value = assignment.description;
                    
                    this.editingId = id;
                    document.getElementById('addBtn').textContent = 'Update Assignment';
                }
            }

            deleteAssignment(id) {
                if (confirm('Are you sure you want to delete this assignment?')) {
                    this.assignments = this.assignments.filter(a => a.id !== id);
                    this.saveAssignments();
                    this.renderAssignments();
                }
            }

            toggleComplete(id) {
                const assignment = this.assignments.find(a => a.id === id);
                if (assignment) {
                    assignment.completed = !assignment.completed;
                    assignment.progress = assignment.completed ? 100 : assignment.progress;
                    this.saveAssignments();
                    this.renderAssignments();
                }
            }

            updateProgress(id, progress) {
                const assignment = this.assignments.find(a => a.id === id);
                if (assignment) {
                    assignment.progress = Math.max(0, Math.min(100, progress));
                    assignment.completed = assignment.progress === 100;
                    this.saveAssignments();
                    this.renderAssignments();
                }
            }

            setFilter(filter) {
                this.currentFilter = filter;
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
                this.renderAssignments();
            }

            getFilteredAssignments() {
                const now = new Date();
                return this.assignments.filter(assignment => {
                    const dueDate = new Date(assignment.dueDate);
                    switch (this.currentFilter) {
                        case 'completed': return assignment.completed;
                        case 'pending': return !assignment.completed;
                        case 'overdue': return !assignment.completed && dueDate < now;
                        default: return true;
                    }
                });
            }

            renderAssignments() {
                const container = document.getElementById('assignmentList');
                const filteredAssignments = this.getFilteredAssignments();

                if (filteredAssignments.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">📚</div>
                            <h3>No assignments found</h3>
                            <p>${this.currentFilter === 'all' ? 'Add your first assignment using the form above!' : `No ${this.currentFilter} assignments.`}</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = filteredAssignments
                    .sort((a, b) => {
                        if (a.completed !== b.completed) return a.completed - b.completed;
                        return new Date(a.dueDate) - new Date(b.dueDate);
                    })
                    .map(assignment => this.renderAssignmentCard(assignment))
                    .join('');

                // Bind events for action buttons
                container.querySelectorAll('.edit-btn').forEach(btn => {
                    btn.addEventListener('click', () => this.editAssignment(parseInt(btn.dataset.id)));
                });

                container.querySelectorAll('.delete-btn').forEach(btn => {
                    btn.addEventListener('click', () => this.deleteAssignment(parseInt(btn.dataset.id)));
                });

                container.querySelectorAll('.complete-btn').forEach(btn => {
                    btn.addEventListener('click', () => this.toggleComplete(parseInt(btn.dataset.id)));
                });

                container.querySelectorAll('.calendar-btn').forEach(btn => {
                    btn.addEventListener('click', () => this.exportToCalendar(parseInt(btn.dataset.id)));
                });

                container.querySelectorAll('.progress-input').forEach(input => {
                    input.addEventListener('change', () => {
                        this.updateProgress(parseInt(input.dataset.id), parseInt(input.value));
                    });
                });
            }

            renderAssignmentCard(assignment) {
                const dueDate = new Date(assignment.dueDate);
                const now = new Date();
                const isOverdue = !assignment.completed && dueDate < now;
                const timeUntilDue = this.formatTimeUntilDue(dueDate, now);

                return `
                    <div class="assignment-card ${assignment.priority}-priority ${assignment.completed ? 'completed' : ''}">
                        <div class="assignment-header">
                            <div>
                                <h4 class="assignment-title">${assignment.title}</h4>
                                ${assignment.course ? `<p class="assignment-course">${assignment.course}</p>` : ''}
                            </div>
                            <div class="assignment-actions">
                                <button class="action-btn edit-btn" data-id="${assignment.id}">Edit</button>
                                <button class="action-btn complete-btn" data-id="${assignment.id}">
                                    ${assignment.completed ? 'Undo' : 'Complete'}
                                </button>
                                <button class="action-btn calendar-btn" data-id="${assignment.id}" title="Add to Calendar">📅</button>
                                <button class="action-btn delete-btn" data-id="${assignment.id}">Delete</button>
                            </div>
                        </div>
                        
                        <div class="assignment-details">
                            <p class="assignment-due">
                                📅 Due: ${dueDate.toLocaleDateString()} at ${dueDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                                ${isOverdue ? ' <strong style="color: #D9534F;">(OVERDUE)</strong>' : ` (${timeUntilDue})`}
                            </p>
                            <span class="assignment-priority priority-${assignment.priority}">${assignment.priority} priority</span>
                            ${assignment.description ? `<p style="margin-top: 0.5em; color: #666;">${assignment.description}</p>` : ''}
                        </div>
                        
                        <div class="progress-section">
                            <div class="progress-text">
                                Progress: ${assignment.progress}%
                                <input type="range" class="progress-input" min="0" max="100" value="${assignment.progress}" data-id="${assignment.id}" style="margin-left: 1em;">
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${assignment.progress}%"></div>
                            </div>
                        </div>
                    </div>
                `;
            }

            formatTimeUntilDue(dueDate, now) {
                const diff = dueDate - now;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                
                if (days > 0) {
                    return `${days} day${days > 1 ? 's' : ''} left`;
                } else if (hours > 0) {
                    return `${hours} hour${hours > 1 ? 's' : ''} left`;
                } else if (diff > 0) {
                    return 'Due soon';
                }
                return 'Overdue';
            }

            clearForm() {
                const elements = [
                    { id: 'title', value: '' },
                    { id: 'course', value: '' },
                    { id: 'dueDate', value: '' },
                    { id: 'dueTime', value: '' },
                    { id: 'priority', value: 'medium' },
                    { id: 'description', value: '' }
                ];
                
                elements.forEach(({ id, value }) => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.value = value;
                    }
                });
                
                // Reset datetime picker to tomorrow
                setTimeout(() => this.setMinDateTime(), 100);
            }

            // Calendar Export Functions
            exportToCalendar(id) {
                const assignment = this.assignments.find(a => a.id === id);
                if (assignment) {
                    this.generateICSFile([assignment]);
                }
            }

            exportAllToCalendar() {
                if (this.assignments.length === 0) {
                    alert('No assignments to export!');
                    return;
                }
                this.generateICSFile(this.assignments);
            }

            exportPendingToCalendar() {
                const pendingAssignments = this.assignments.filter(a => !a.completed);
                if (pendingAssignments.length === 0) {
                    alert('No pending assignments to export!');
                    return;
                }
                this.generateICSFile(pendingAssignments);
            }

            generateICSFile(assignments) {
                const icsContent = this.createICSContent(assignments);
                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                
                const link = document.createElement('a');
                link.href = url;
                const fileName = assignments.length === 1 
                    ? `${assignments[0].title.replace(/[^a-z0-9]/gi, '_')}_assignment.ics`
                    : `assignments_${new Date().toISOString().split('T')[0]}.ics`;
                link.download = fileName;
                
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            }

            createICSContent(assignments) {
                const now = new Date();
                const formatDate = (date) => {
                    return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
                };

                let icsContent = [
                    'BEGIN:VCALENDAR',
                    'VERSION:2.0',
                    'PRODID:-//ScribbleTools//Assignment Tracker//EN',
                    'CALSCALE:GREGORIAN',
                    'METHOD:PUBLISH'
                ];

                assignments.forEach(assignment => {
                    const dueDate = new Date(assignment.dueDate);
                    const reminderDate = new Date(dueDate.getTime() - (24 * 60 * 60 * 1000)); // 1 day before
                    const createdDate = new Date(assignment.createdAt);
                    
                    // Generate unique UID
                    const uid = `assignment-${assignment.id}-${assignment.createdAt}@scribbletools.com`;
                    
                    // Escape special characters for ICS format
                    const escapeICS = (text) => {
                        return text.replace(/[\\;,\n]/g, (match) => {
                            switch (match) {
                                case '\\': return '\\\\';
                                case ';': return '\\;';
                                case ',': return '\\,';
                                case '\n': return '\\n';
                                default: return match;
                            }
                        });
                    };

                    const title = escapeICS(assignment.title);
                    const course = assignment.course ? escapeICS(assignment.course) : '';
                    const description = assignment.description ? escapeICS(assignment.description) : '';
                    
                    let eventDescription = `Assignment: ${title}`;
                    if (course) eventDescription += `\\nCourse: ${course}`;
                    if (description) eventDescription += `\\nDescription: ${description}`;
                    eventDescription += `\\nPriority: ${assignment.priority.toUpperCase()}`;
                    eventDescription += `\\nProgress: ${assignment.progress}%`;

                    icsContent.push(
                        'BEGIN:VEVENT',
                        `UID:${uid}`,
                        `DTSTAMP:${formatDate(now)}`,
                        `DTSTART:${formatDate(dueDate)}`,
                        `DTEND:${formatDate(new Date(dueDate.getTime() + 60 * 60 * 1000))}`, // 1 hour duration
                        `SUMMARY:${course ? course + ': ' : ''}${title}`,
                        `DESCRIPTION:${eventDescription}`,
                        `LOCATION:`,
                        `STATUS:${assignment.completed ? 'COMPLETED' : 'CONFIRMED'}`,
                        `PRIORITY:${assignment.priority === 'high' ? '1' : assignment.priority === 'medium' ? '5' : '9'}`,
                        `CATEGORIES:EDUCATION,ASSIGNMENT`,
                        'BEGIN:VALARM',
                        'TRIGGER:-P1D',
                        'DESCRIPTION:Assignment Due Tomorrow',
                        'ACTION:DISPLAY',
                        'END:VALARM',
                        'BEGIN:VALARM',
                        'TRIGGER:-PT2H',
                        'DESCRIPTION:Assignment Due in 2 Hours',
                        'ACTION:DISPLAY',
                        'END:VALARM',
                        'END:VEVENT'
                    );
                });

                icsContent.push('END:VCALENDAR');
                return icsContent.join('\r\n');
            }

            loadAssignments() {
                try {
                    return JSON.parse(localStorage.getItem('assignments') || '[]');
                } catch {
                    return [];
                }
            }

            saveAssignments() {
                localStorage.setItem('assignments', JSON.stringify(this.assignments));
            }
        }

        // Initialize the Assignment Tracker
        function initializeAssignmentTracker() {
            if (window.assignmentTrackerInstance) {
                return; // Already initialized
            }
            try {
                window.assignmentTrackerInstance = new AssignmentTracker();
                console.log('Assignment Tracker initialized successfully');
            } catch (error) {
                console.error('Failed to initialize Assignment Tracker:', error);
            }
        }

        // Multiple initialization methods for different loading scenarios
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeAssignmentTracker);
        } else {
            // DOM is already ready
            initializeAssignmentTracker();
        }

        // For when loaded via AJAX/routing
        if (window.addEventListener) {
            window.addEventListener('load', initializeAssignmentTracker);
        }

        // Immediate initialization attempt
        setTimeout(initializeAssignmentTracker, 100);
    </script>
</body>
</html>
