<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Enhanced SEO Meta Tags -->
    <title>Stress Monitor - FREE Student Stress Tracking & Mental Health Wellness Tool</title>
    <meta name="description" content="FREE Stress Monitor for students to track stress levels, identify triggers, and improve mental health. Monitor academic stress patterns, get wellness insights, and build healthy coping strategies for student success.">
    <meta name="keywords" content="stress monitor, student mental health, stress tracker, academic stress, wellness tracker, mental health tool, stress management, student wellbeing, anxiety tracker, stress patterns, coping strategies">
    <meta name="author" content="ScribbleTools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://scribbletools.com/client/tools/student/wellness/stress-monitor.html">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://scribbletools.com/client/tools/student/wellness/stress-monitor.html">
    <meta property="og:title" content="Stress Monitor - FREE Student Mental Health & Wellness Tracker">
    <meta property="og:description" content="FREE Stress Monitor for students to track stress levels, identify triggers, and improve mental health with data-driven wellness insights.">
    <meta property="og:image" content="https://scribbletools.com/assets/og-image.svg">
    <meta property="og:site_name" content="ScribbleTools">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://scribbletools.com/client/tools/student/wellness/stress-monitor.html">
    <meta name="twitter:title" content="Stress Monitor - Student Mental Health Tracker">
    <meta name="twitter:description" content="Track stress levels, identify triggers, and improve mental health with our free student wellness monitoring tool.">
    <meta name="twitter:image" content="https://scribbletools.com/assets/og-image.svg">
    
    <!-- Technical SEO -->
    <meta name="theme-color" content="#4A90E2">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Stress Monitor - Student Mental Health & Wellness Tracker",
        "description": "Free online stress monitoring tool for students to track stress levels, identify triggers, monitor mental health patterns, and develop healthy coping strategies for academic success.",
        "url": "https://scribbletools.com/client/tools/student/wellness/stress-monitor.html",
        "applicationCategory": "HealthApplication",
        "operatingSystem": "Any",
        "permissions": "browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Daily Stress Level Tracking",
            "Stress Trigger Identification",
            "Mental Health Pattern Analysis",
            "Mood and Emotion Monitoring",
            "Academic Stress Assessment",
            "Wellness Trend Visualization",
            "Coping Strategy Tracking",
            "Stress Factor Correlation",
            "Mental Health Insights",
            "Wellness Goal Setting",
            "Stress Relief Recommendations",
            "Mental Wellbeing Analytics"
        ],
        "audience": {
            "@type": "EducationalAudience",
            "educationalRole": "student"
        },
        "creator": {
            "@type": "Organization",
            "name": "ScribbleTools",
            "url": "https://scribbletools.com"
        },
        "datePublished": "2024-01-01",
        "dateModified": "2024-12-01",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "educationalUse": "Mental health monitoring and stress management",
        "learningResourceType": "Interactive Tool",
        "typicalAgeRange": "16-30"
    }
    </script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Caveat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Stress Monitor Specific Styles - All prefixed with 'stress-' to avoid conflicts */
        .stress-root,
        .stress-main-container,
        .stress-body,
        body.stress-body,
        html {
            --stress-font-primary: 'Poppins', sans-serif !important;
            
            /* Enhanced Color Palette */
            --stress-color-primary: #667eea !important;
            --stress-color-primary-dark: #5a6fd8 !important;
            --stress-color-secondary: #764ba2 !important;
            --stress-color-accent: #f39c12 !important;
            --stress-color-success: #28a745 !important;
            --stress-color-danger: #dc3545 !important;
            --stress-color-info: #17a2b8 !important;
            
            /* Background & Surface Colors */
            --stress-color-background: #f5f7fa !important;
            --stress-color-surface: #ffffff !important;
            --stress-color-surface-alt: #f8f9fa !important;
            
            /* Text Colors */
            --stress-color-text-primary: #2c3e50 !important;
            --stress-color-text-secondary: #6c757d !important;
            --stress-color-text-on-primary: #ffffff !important;
            
            /* Border & Shadow */
            --stress-color-border: #e9ecef !important;
            --stress-shadow-sm: 0 2px 4px rgba(0,0,0,0.08) !important;
            --stress-shadow-md: 0 4px 12px rgba(0,0,0,0.15) !important;
            --stress-shadow-lg: 0 8px 32px rgba(0,0,0,0.18) !important;
        }

        .stress-body { 
            font-family: var(--stress-font-primary); 
            background: var(--stress-color-background); 
            color: var(--stress-color-text-primary); 
            margin: 0; 
            padding: 20px; 
            line-height: 1.7;
            min-height: 100vh;
            scroll-behavior: smooth;
        }

        .stress-main-container {
            max-width: 1200px !important;
            margin: 0 auto !important;
            background: var(--stress-color-surface) !important;
            border-radius: 15px !important;
            box-shadow: var(--stress-shadow-lg) !important;
            overflow: hidden !important;
            border: 1px solid var(--stress-color-border) !important;
            position: relative !important;
        }
        
        .stress-header {
            background: linear-gradient(135deg, var(--stress-color-primary) 0%, var(--stress-color-secondary) 100%) !important;
            color: var(--stress-color-text-on-primary) !important;
            padding: 30px !important;
            text-align: center !important;
        }
        
        .stress-header h1 {
            font-size: 2.5rem !important;
            margin-bottom: 15px !important;
            font-weight: 700 !important;
            color: var(--stress-color-text-on-primary) !important;
        }
        
        .stress-header p {
            font-size: 1.1rem !important;
            opacity: 0.9 !important;
            color: var(--stress-color-text-on-primary) !important;
        }

        .stress-content {
            padding: 30px 40px !important;
            background: var(--stress-color-surface) !important;
        }

        /* Form Section */
        .stress-form-section {
            border-radius: 10px !important;
            padding: 25px !important;
            margin-bottom: 30px !important;
            border: 1px solid var(--stress-color-border) !important;
            background: var(--stress-color-surface) !important;
        }
        
        .stress-form-title {
            font-size: 1.5rem !important;
            color: var(--stress-color-text-primary) !important;
            margin-bottom: 20px !important;
            font-weight: 600 !important;
            display: flex !important;
            align-items: center !important;
        }
        
        .stress-form-title::before {
            content: "😰" !important;
            margin-right: 10px !important;
            font-size: 1.8rem !important;
        }
        
        .stress-form-grid {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
            gap: 20px !important;
            margin-bottom: 20px !important;
        }
        
        .stress-form-group {
            display: flex !important;
            flex-direction: column !important;
        }
        
        .stress-form-group label {
            font-weight: 600 !important;
            color: var(--stress-color-text-secondary) !important;
            margin-bottom: 8px !important;
            font-size: 0.95rem !important;
        }
        
        .stress-form-group input, 
        .stress-form-group select,
        .stress-form-group textarea {
            padding: 12px 15px !important;
            border: 2px solid var(--stress-color-border) !important;
            border-radius: 10px !important;
            font-size: 1rem !important;
            transition: all 0.3s ease !important;
            background: var(--stress-color-surface) !important;
        }
        
        .stress-form-group input:focus, 
        .stress-form-group select:focus,
        .stress-form-group textarea:focus {
            outline: none !important;
            border-color: var(--stress-color-primary) !important;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
        }
        
        .stress-form-group textarea {
            min-height: 100px !important;
            resize: vertical !important;
        }
        
        .stress-btn-container {
            display: flex !important;
            gap: 15px !important;
            flex-wrap: wrap !important;
        }
        
        .stress-btn {
            padding: 12px 25px !important;
            border: none !important;
            border-radius: 10px !important;
            font-size: 1rem !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 8px !important;
        }
        
        .stress-btn-primary {
            background: linear-gradient(135deg, var(--stress-color-primary) 0%, var(--stress-color-secondary) 100%) !important;
            color: var(--stress-color-text-on-primary) !important;
            box-shadow: var(--stress-shadow-md) !important;
        }
        
        .stress-btn-primary:hover {
            transform: translateY(-2px) !important;
            box-shadow: var(--stress-shadow-lg) !important;
        }
        
        .stress-btn-secondary {
            background: var(--stress-color-surface) !important;
            color: var(--stress-color-primary) !important;
            border: 2px solid var(--stress-color-primary) !important;
        }
        
        .stress-btn-secondary:hover {
            background: var(--stress-color-surface-alt) !important;
        }

        /* Summary Section */
        .stress-summary-section {
            background: linear-gradient(135deg, var(--stress-color-primary) 0%, var(--stress-color-secondary) 100%) !important;
            color: var(--stress-color-text-on-primary) !important;
            border-radius: 15px !important;
            padding: 25px !important;
            margin-bottom: 30px !important;
            box-shadow: var(--stress-shadow-lg) !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            flex-wrap: wrap !important;
            gap: 20px !important;
        }
        
        .stress-summary-item {
            text-align: center !important;
        }
        
        .stress-summary-value {
            font-size: 2.5rem !important;
            font-weight: 700 !important;
            color: var(--stress-color-text-on-primary) !important;
            margin-bottom: 5px !important;
        }
        
        .stress-summary-label {
            font-size: 0.9rem !important;
            opacity: 0.9 !important;
            color: var(--stress-color-text-on-primary) !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
        }

        /* Stress Level Indicator */
        .stress-level-indicator {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .stress-level-title {
            font-size: 1.5rem;
            color: var(--stress-color-text-primary);
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .stress-meter {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 10px;
        }
        
        .stress-meter-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 1s ease;
        }
        
        .stress-level-low {
            background: linear-gradient(90deg, #28a745, #20c997);
        }
        
        .stress-level-moderate {
            background: linear-gradient(90deg, #ffc107, #fd7e14);
        }
        
        .stress-level-high {
            background: linear-gradient(90deg, #fd7e14, #dc3545);
        }
        
        .stress-level-severe {
            background: linear-gradient(90deg, #dc3545, #6f42c1);
        }
        
        .stress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--stress-color-text-secondary);
        }
        
        .stress-current-level {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 10px;
        }
        
        .stress-level-low-text {
            color: #28a745;
        }
        
        .stress-level-moderate-text {
            color: #ffc107;
        }
        
        .stress-level-high-text {
            color: #fd7e14;
        }
        
        .stress-level-severe-text {
            color: #dc3545;
        }

        /* Stress Factors */
        .stress-factors {
            margin-bottom: 30px;
        }
        
        .factors-title {
            font-size: 1.5rem;
            color: var(--stress-color-text-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .factors-title::before {
            content: "🔍";
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .factors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .factor-card {
            background: white;
            border: 1px solid var(--stress-color-border);
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }
        
        .factor-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--stress-shadow-sm);
        }
        
        .factor-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--stress-color-text-primary);
        }
        
        .factor-rating {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .factor-stars {
            color: #f39c12;
            margin-right: 10px;
        }
        
        .factor-impact {
            font-size: 0.9rem;
            color: var(--stress-color-text-secondary);
        }

        /* Stress Log */
        .stress-log {
            margin-bottom: 30px;
        }
        
        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .log-title {
            font-size: 1.5rem;
            color: #333;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .log-title::before {
            content: "📝";
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .log-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .log-entry {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .log-entry::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
        }
        
        .log-entry.low::before {
            background: #28a745;
        }
        
        .log-entry.moderate::before {
            background: #ffc107;
        }
        
        .log-entry.high::before {
            background: #fd7e14;
        }
        
        .log-entry.severe::before {
            background: #dc3545;
        }
        
        .log-entry:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .log-date {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }
        
        .log-level {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .level-low {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }
        
        .level-moderate {
            background: rgba(255, 193, 7, 0.1);
            color: #ffc107;
        }
        
        .level-high {
            background: rgba(253, 126, 20, 0.1);
            color: #fd7e14;
        }
        
        .level-severe {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .log-triggers {
            margin-bottom: 10px;
        }
        
        .log-triggers-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 5px;
        }
        
        .log-triggers-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .log-trigger-tag {
            background: #f0f0f0;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        
        .log-notes {
            color: #555;
            font-size: 0.95rem;
            white-space: pre-wrap;
        }
        
        .log-actions {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .edit-btn {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .edit-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: scale(1.1);
        }
        
        .delete-btn {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .delete-btn:hover {
            background: rgba(220, 53, 69, 0.2);
            transform: scale(1.1);
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #555;
        }
        
        .empty-state p {
            font-size: 1rem;
            max-width: 500px;
            margin: 0 auto;
        }

        /* Coping Strategies */
        .coping-strategies {
            background: var(--stress-color-surface-alt);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--stress-color-border);
        }
        
        .strategies-title {
            font-size: 1.5rem;
            color: var(--stress-color-text-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .strategies-title::before {
            content: "🧘";
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .strategies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .strategy-card {
            background: white;
            border: 1px solid var(--stress-color-border);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .strategy-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--stress-shadow-sm);
            border-color: var(--stress-color-primary);
        }
        
        .strategy-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .strategy-name {
            font-weight: 600;
            color: var(--stress-color-text-primary);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.5s ease;
            border-left: 5px solid #667eea;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .notification p {
            color: #666;
            margin-bottom: 15px;
        }
        
        .notification button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .notification button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Edit Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #333;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }
        
        .modal-close:hover {
            color: #333;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .summary-section {
                flex-direction: column;
                text-align: center;
            }
            
            .log-grid {
                grid-template-columns: 1fr;
            }
            
            .factors-grid {
                grid-template-columns: 1fr;
            }
            
            .strategies-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body class="stress-body">
    <div class="stress-main-container">
        <div class="stress-header">
            <h1>😰 Stress Monitor</h1>
            <p>Track your stress levels, identify triggers, and find effective coping strategies</p>
        </div>
        
        <div class="stress-content">
            <!-- SEO Content Section -->
            <div class="stress-form-section" style="margin-bottom: 25px;">
                <div style="background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h2 style="color: white; margin-top: 0;">🧠 How to Use the Stress Monitor</h2>
                    <p style="margin-bottom: 0; color: white;">Track your daily stress levels, identify triggers, and monitor patterns to improve your mental health and academic performance. Build awareness and develop effective coping strategies.</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #4A90E2;">
                        <h3 style="color: #2c3e50; margin-top: 0;">💙 Mental Health Benefits</h3>
                        <ul style="margin-bottom: 0; color: #6c757d;">
                            <li>Increased stress awareness and mindfulness</li>
                            <li>Early identification of stress triggers</li>
                            <li>Better emotional regulation and coping</li>
                            <li>Improved academic and personal wellbeing</li>
                        </ul>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #28a745;">
                        <h3 style="color: #2c3e50; margin-top: 0;">📊 Tracking Features</h3>
                        <ul style="margin-bottom: 0; color: #6c757d;">
                            <li>Daily stress level monitoring (1-10 scale)</li>
                            <li>Trigger identification and categorization</li>
                            <li>Mood and emotion tracking</li>
                            <li>Wellness trend analysis and insights</li>
                        </ul>
                    </div>
                </div>
                
                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <h3 style="color: #2c3e50; margin-top: 0;">🌟 Wellness Tips</h3>
                    <p style="margin-bottom: 0; color: #6c757d;"><strong>Daily Check-ins:</strong> Regular monitoring helps you identify patterns and triggers before they become overwhelming. <strong>Holistic Approach:</strong> Track sleep, exercise, and social factors that impact your stress levels for complete wellness insights.</p>
                </div>
            </div>
            
            <!-- Add Stress Log Form -->
            <div class="stress-form-section">
                <h2 class="stress-form-title">Log Your Stress Level</h2>
                <form id="stressForm">
                    <div class="stress-form-grid">
                        <div class="stress-form-group">
                            <label for="stressDate">Date</label>
                            <input type="date" id="stressDate" required>
                        </div>
                        <div class="stress-form-group">
                            <label for="stressLevel">Stress Level (1-10)</label>
                            <select id="stressLevel" required>
                                <option value="">Select level</option>
                                <option value="1">1 - Very Low</option>
                                <option value="2">2 - Low</option>
                                <option value="3">3 - Low-Moderate</option>
                                <option value="4">4 - Moderate</option>
                                <option value="5">5 - Moderate</option>
                                <option value="6">6 - Moderate-High</option>
                                <option value="7">7 - High</option>
                                <option value="8">8 - High</option>
                                <option value="9">9 - Very High</option>
                                <option value="10">10 - Severe</option>
                            </select>
                        </div>
                        <div class="stress-form-group">
                            <label for="timeOfDay">Time of Day</label>
                            <select id="timeOfDay" required>
                                <option value="">Select time</option>
                                <option value="morning">Morning</option>
                                <option value="afternoon">Afternoon</option>
                                <option value="evening">Evening</option>
                                <option value="night">Night</option>
                            </select>
                        </div>
                        <div class="stress-form-group">
                            <label for="situation">Situation</label>
                            <select id="situation" required>
                                <option value="">Select situation</option>
                                <option value="studying">Studying</option>
                                <option value="exams">Exams/Tests</option>
                                <option value="assignments">Assignments</option>
                                <option value="social">Social Situations</option>
                                <option value="work">Work/Job</option>
                                <option value="family">Family</option>
                                <option value="financial">Financial</option>
                                <option value="health">Health</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="stress-form-group">
                        <label>Stress Triggers (Select all that apply)</label>
                        <div class="stress-form-grid">
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="deadline"> Deadlines
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="workload"> Heavy Workload
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="procrastination"> Procrastination
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="perfectionism"> Perfectionism
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="social"> Social Pressure
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="financial"> Financial Worries
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="health"> Health Issues
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="triggers" value="family"> Family Problems
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stress-form-group">
                        <label for="notes">Notes & Reflections</label>
                        <textarea id="notes" rows="3" placeholder="What caused your stress? How did you feel? What helped or didn't help?"></textarea>
                    </div>
                    
                    <div class="stress-btn-container">
                        <button type="submit" class="stress-btn stress-btn-primary">
                            <span>➕</span> Add Entry
                        </button>
                        <button type="button" class="stress-btn stress-btn-secondary" onclick="clearForm()">
                            <span>🗑️</span> Clear Form
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Summary Section -->
            <div class="stress-summary-section">
                <div class="stress-summary-item">
                    <div class="stress-summary-value" id="totalEntries">0</div>
                    <div class="stress-summary-label">Total Entries</div>
                </div>
                <div class="stress-summary-item">
                    <div class="stress-summary-value" id="avgStress">0</div>
                    <div class="stress-summary-label">Avg Stress</div>
                </div>
                <div class="stress-summary-item">
                    <div class="stress-summary-value" id="currentStreak">0</div>
                    <div class="stress-summary-label">Day Streak</div>
                </div>
                <div class="stress-summary-item">
                    <div class="stress-summary-value" id="improvement">--</div>
                    <div class="stress-summary-label">Trend</div>
                </div>
            </div>
            
            <!-- Stress Level Indicator -->
            <div class="stress-level-indicator">
                <h2 class="stress-level-title">Current Stress Level</h2>
                <div class="stress-meter">
                    <div class="stress-meter-fill stress-level-low" id="stressMeterFill" style="width: 25%"></div>
                </div>
                <div class="stress-labels">
                    <span>Low</span>
                    <span>Moderate</span>
                    <span>High</span>
                    <span>Severe</span>
                </div>
                <div class="stress-current-level stress-level-low-text" id="currentStressLevel">Low (2.5/10)</div>
            </div>
            
            <!-- Coping Strategies -->
            <div class="coping-strategies">
                <h2 class="strategies-title">Coping Strategies</h2>
                <div class="strategies-grid">
                    <div class="strategy-card" onclick="showStrategyDetails('deep-breathing')">
                        <div class="strategy-icon">🫁</div>
                        <div class="strategy-name">Deep Breathing</div>
                    </div>
                    <div class="strategy-card" onclick="showStrategyDetails('meditation')">
                        <div class="strategy-icon">🧘</div>
                        <div class="strategy-name">Meditation</div>
                    </div>
                    <div class="strategy-card" onclick="showStrategyDetails('exercise')">
                        <div class="strategy-icon">🏃</div>
                        <div class="strategy-name">Exercise</div>
                    </div>
                    <div class="strategy-card" onclick="showStrategyDetails('time-management')">
                        <div class="strategy-icon">⏱️</div>
                        <div class="strategy-name">Time Management</div>
                    </div>
                    <div class="strategy-card" onclick="showStrategyDetails('social-support')">
                        <div class="strategy-icon">👥</div>
                        <div class="strategy-name">Social Support</div>
                    </div>
                    <div class="strategy-card" onclick="showStrategyDetails('healthy-sleep')">
                        <div class="strategy-icon">😴</div>
                        <div class="strategy-name">Healthy Sleep</div>
                    </div>
                </div>
            </div>
            
            <!-- Stress Factors -->
            <div class="stress-factors">
                <h2 class="factors-title">Common Stress Factors</h2>
                <div class="factors-grid" id="factorsGrid">
                    <!-- Factors will be calculated and displayed here -->
                </div>
            </div>
            
            <!-- Stress Log -->
            <div class="stress-log">
                <div class="log-header">
                    <h2 class="log-title">Stress Log</h2>
                    <div class="btn-container">
                        <button class="stress-btn stress-btn-secondary" onclick="exportToCSV()">
                            <span>📤</span> Export CSV
                        </button>
                        <button class="stress-btn stress-btn-secondary" onclick="clearAllEntries()">
                            <span>🗑️</span> Clear All
                        </button>
                    </div>
                </div>
                
                <div id="logContainer">
                    <div class="empty-state">
                        <div class="empty-state-icon">😰</div>
                        <h3>No Stress Entries Yet</h3>
                        <p>Add your first stress entry using the form above to start monitoring your stress levels.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Modal -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Edit Stress Entry</h3>
                <button class="modal-close" onclick="closeEditModal()">✕</button>
            </div>
            <div class="modal-body">
                <form id="editForm">
                    <div class="stress-form-grid">
                        <div class="stress-form-group">
                            <label for="editStressDate">Date</label>
                            <input type="date" id="editStressDate" required>
                        </div>
                        <div class="stress-form-group">
                            <label for="editStressLevel">Stress Level (1-10)</label>
                            <select id="editStressLevel" required>
                                <option value="1">1 - Very Low</option>
                                <option value="2">2 - Low</option>
                                <option value="3">3 - Low-Moderate</option>
                                <option value="4">4 - Moderate</option>
                                <option value="5">5 - Moderate</option>
                                <option value="6">6 - Moderate-High</option>
                                <option value="7">7 - High</option>
                                <option value="8">8 - High</option>
                                <option value="9">9 - Very High</option>
                                <option value="10">10 - Severe</option>
                            </select>
                        </div>
                        <div class="stress-form-group">
                            <label for="editTimeOfDay">Time of Day</label>
                            <select id="editTimeOfDay" required>
                                <option value="morning">Morning</option>
                                <option value="afternoon">Afternoon</option>
                                <option value="evening">Evening</option>
                                <option value="night">Night</option>
                            </select>
                        </div>
                        <div class="stress-form-group">
                            <label for="editSituation">Situation</label>
                            <select id="editSituation" required>
                                <option value="studying">Studying</option>
                                <option value="exams">Exams/Tests</option>
                                <option value="assignments">Assignments</option>
                                <option value="social">Social Situations</option>
                                <option value="work">Work/Job</option>
                                <option value="family">Family</option>
                                <option value="financial">Financial</option>
                                <option value="health">Health</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="stress-form-group">
                        <label>Stress Triggers (Select all that apply)</label>
                        <div class="stress-form-grid">
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="deadline"> Deadlines
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="workload"> Heavy Workload
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="procrastination"> Procrastination
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="perfectionism"> Perfectionism
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="social"> Social Pressure
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="financial"> Financial Worries
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="health"> Health Issues
                                </label>
                            </div>
                            <div class="stress-form-group">
                                <label>
                                    <input type="checkbox" name="editTriggers" value="family"> Family Problems
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stress-form-group">
                        <label for="editNotes">Notes & Reflections</label>
                        <textarea id="editNotes" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="stress-btn stress-btn-secondary" onclick="closeEditModal()">Cancel</button>
                <button class="stress-btn stress-btn-primary" onclick="saveEdit()">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Strategy Details Modal -->
    <div class="modal" id="strategyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="strategyModalTitle">Strategy Details</h3>
                <button class="modal-close" onclick="closeStrategyModal()">✕</button>
            </div>
            <div class="modal-body">
                <div id="strategyDetails">
                    <!-- Strategy details will be displayed here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="stress-btn stress-btn-primary" onclick="closeStrategyModal()">Got It!</button>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <h3 id="notificationTitle">Success!</h3>
        <p id="notificationMessage">Stress entry added successfully.</p>
        <button onclick="closeNotification()">Got it!</button>
    </div>
    
    <script>
        let stressEntries = [];
        let editingIndex = -1;
        
        // Strategy details
        const strategyDetails = {
            'deep-breathing': {
                title: 'Deep Breathing',
                content: 'Deep breathing is a simple yet powerful technique to reduce stress. It activates the body\'s relaxation response and helps calm the nervous system.\n\nHow to practice:\n1. Find a comfortable position, either sitting or lying down\n2. Place one hand on your chest and the other on your abdomen\n3. Inhale slowly through your nose, allowing your abdomen to expand\n4. Exhale slowly through your mouth, letting your abdomen fall\n5. Repeat for 5-10 minutes\n\nBenefits:\n- Reduces heart rate and blood pressure\n- Decreases production of stress hormones\n- Increases feelings of calm and well-being'
            },
            'meditation': {
                title: 'Meditation',
                content: 'Meditation is a practice that involves focusing your mind and eliminating the stream of jumbled thoughts that may be crowding your mind and causing stress.\n\nHow to practice:\n1. Find a quiet place and sit comfortably\n2. Close your eyes and focus on your breathing\n3. When your mind wanders, gently return focus to your breath\n4. Start with 5 minutes daily and gradually increase\n\nBenefits:\n- Reduces anxiety and improves emotional health\n- Enhances self-awareness and perspective\n- Improves attention span and concentration'
            },
            'exercise': {
                title: 'Exercise',
                content: 'Physical activity is a great way to reduce stress and improve your mood. It increases the production of endorphins, which are natural mood lifters.\n\nHow to practice:\n1. Aim for at least 30 minutes of moderate exercise most days\n2. Choose activities you enjoy (walking, running, dancing, etc.)\n3. Make it a consistent part of your routine\n\nBenefits:\n- Improves sleep and energy levels\n- Reduces symptoms of anxiety and depression\n- Boosts confidence and self-esteem'
            },
            'time-management': {
                title: 'Time Management',
                content: 'Effective time management can significantly reduce stress by helping you feel more in control of your tasks and schedule.\n\nHow to practice:\n1. Prioritize tasks using a system like the Eisenhower Matrix\n2. Break large tasks into smaller, manageable steps\n3. Use a planner or digital calendar to schedule your time\n4. Set realistic deadlines and avoid overcommitting\n\nBenefits:\n- Reduces feelings of being overwhelmed\n- Increases productivity and efficiency\n- Creates more time for relaxation and self-care'
            },
            'social-support': {
                title: 'Social Support',
                content: 'Connecting with others is a powerful way to manage stress. Sharing your concerns and feelings with trusted friends or family can provide emotional support and perspective.\n\nHow to practice:\n1. Reach out to friends or family members regularly\n2. Join clubs, groups, or activities that interest you\n3. Consider talking to a counselor or therapist if needed\n4. Be there for others as well - supporting others can boost your own mood\n\nBenefits:\n- Provides emotional support and validation\n- Offers different perspectives on problems\n- Reduces feelings of isolation and loneliness'
            },
            'healthy-sleep': {
                title: 'Healthy Sleep',
                content: 'Quality sleep is essential for stress management. Lack of sleep can increase stress hormones and make it harder to cope with daily challenges.\n\nHow to practice:\n1. Aim for 7-9 hours of sleep per night\n2. Establish a regular sleep schedule\n3. Create a relaxing bedtime routine\n4. Limit screen time before bed\n5. Make your bedroom dark, quiet, and cool\n\nBenefits:\n- Improves mood and emotional regulation\n- Enhances cognitive function and decision-making\n- Strengthens immune system'
            }
        };
        
        // Set today's date as default
        document.getElementById('stressDate').valueAsDate = new Date();
        
        // Load stress entries from localStorage on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadStressEntries();
            updateCurrentStressLevel();
        });
        
        // Form submission
        document.getElementById('stressForm').addEventListener('submit', function(e) {
            e.preventDefault();
            addStressEntry();
        });
        
        function addStressEntry() {
            const stressDate = document.getElementById('stressDate').value;
            const stressLevel = parseInt(document.getElementById('stressLevel').value);
            const timeOfDay = document.getElementById('timeOfDay').value;
            const situation = document.getElementById('situation').value;
            const notes = document.getElementById('notes').value;
            
            // Get selected triggers
            const triggerCheckboxes = document.querySelectorAll('input[name="triggers"]:checked');
            const triggers = Array.from(triggerCheckboxes).map(cb => cb.value);
            
            const entry = {
                id: Date.now(),
                stressDate,
                stressLevel,
                timeOfDay,
                situation,
                triggers,
                notes,
                createdAt: new Date().toISOString()
            };
            
            stressEntries.push(entry);
            saveStressEntries();
            renderStressEntries();
            updateSummary();
            updateFactors();
            updateCurrentStressLevel();
            clearForm();
            showNotification('Success!', 'Stress entry added successfully.');
        }
        
        function clearForm() {
            document.getElementById('stressForm').reset();
            document.getElementById('stressDate').valueAsDate = new Date();
            
            // Uncheck all trigger checkboxes
            const triggerCheckboxes = document.querySelectorAll('input[name="triggers"]');
            triggerCheckboxes.forEach(cb => cb.checked = false);
        }
        
        function renderStressEntries() {
            const container = document.getElementById('logContainer');
            
            if (stressEntries.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">😰</div>
                        <h3>No Stress Entries Yet</h3>
                        <p>Add your first stress entry using the form above to start monitoring your stress levels.</p>
                    </div>
                `;
                return;
            }
            
            const grid = document.createElement('div');
            grid.className = 'log-grid';
            
            // Sort entries by date (newest first)
            const sortedEntries = [...stressEntries].sort((a, b) => new Date(b.stressDate) - new Date(a.stressDate));
            
            sortedEntries.forEach((entry, index) => {
                const originalIndex = stressEntries.findIndex(e => e.id === entry.id);
                const card = document.createElement('div');
                
                // Determine stress level class
                let stressClass = 'low';
                if (entry.stressLevel >= 8) {
                    stressClass = 'severe';
                } else if (entry.stressLevel >= 6) {
                    stressClass = 'high';
                } else if (entry.stressLevel >= 4) {
                    stressClass = 'moderate';
                }
                
                card.className = `log-entry ${stressClass}`;
                
                // Format time of day for display
                const timeOfDayMap = {
                    'morning': 'Morning',
                    'afternoon': 'Afternoon',
                    'evening': 'Evening',
                    'night': 'Night'
                };
                
                // Format situation for display
                const situationMap = {
                    'studying': 'Studying',
                    'exams': 'Exams/Tests',
                    'assignments': 'Assignments',
                    'social': 'Social Situations',
                    'work': 'Work/Job',
                    'family': 'Family',
                    'financial': 'Financial',
                    'health': 'Health',
                    'other': 'Other'
                };
                
                card.innerHTML = `
                    <div class="log-actions">
                        <button class="action-btn edit-btn" onclick="editEntry(${originalIndex})" title="Edit">✏️</button>
                        <button class="action-btn delete-btn" onclick="deleteEntry(${originalIndex})" title="Delete">🗑️</button>
                    </div>
                    <div class="log-date">${formatDate(entry.stressDate)} • ${timeOfDayMap[entry.timeOfDay] || entry.timeOfDay}</div>
                    <div class="log-level level-${stressClass}">${getStressLevelText(entry.stressLevel)}</div>
                    <div class="log-triggers">
                        <div class="log-triggers-title">Triggers:</div>
                        <div class="log-triggers-list">
                            ${entry.triggers.map(trigger => `<span class="log-trigger-tag">${formatTrigger(trigger)}</span>`).join('')}
                        </div>
                    </div>
                    <div class="log-notes">${entry.notes || 'No notes added'}</div>
                `;
                grid.appendChild(card);
            });
            
            container.innerHTML = '';
            container.appendChild(grid);
        }
        
        function getStressLevelText(level) {
            if (level >= 8) return 'Severe';
            if (level >= 6) return 'High';
            if (level >= 4) return 'Moderate';
            return 'Low';
        }
        
        function formatTrigger(trigger) {
            const triggerMap = {
                'deadline': 'Deadlines',
                'workload': 'Heavy Workload',
                'procrastination': 'Procrastination',
                'perfectionism': 'Perfectionism',
                'social': 'Social Pressure',
                'financial': 'Financial Worries',
                'health': 'Health Issues',
                'family': 'Family Problems'
            };
            return triggerMap[trigger] || trigger;
        }
        
        function updateSummary() {
            const totalEntries = stressEntries.length;
            
            // Calculate average stress level
            const avgStress = totalEntries > 0 
                ? (stressEntries.reduce((sum, entry) => sum + entry.stressLevel, 0) / totalEntries).toFixed(1)
                : 0;
            
            // Calculate current streak
            let currentStreak = 0;
            if (totalEntries > 0) {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let i = 0; i < 365; i++) {
                    const checkDate = new Date(today);
                    checkDate.setDate(checkDate.getDate() - i);
                    
                    const dateStr = checkDate.toISOString().split('T')[0];
                    const hasEntry = stressEntries.some(entry => entry.stressDate === dateStr);
                    
                    if (hasEntry) {
                        currentStreak++;
                    } else if (i > 0) {
                        break;
                    }
                }
            }
            
            // Calculate trend (improvement or decline)
            let improvement = '--';
            if (totalEntries >= 2) {
                const sortedEntries = [...stressEntries].sort((a, b) => new Date(a.stressDate) - new Date(b.stressDate));
                
                const firstHalf = sortedEntries.slice(0, Math.floor(sortedEntries.length / 2));
                const secondHalf = sortedEntries.slice(Math.floor(sortedEntries.length / 2));
                
                const firstHalfAvg = firstHalf.reduce((sum, entry) => sum + entry.stressLevel, 0) / firstHalf.length;
                const secondHalfAvg = secondHalf.reduce((sum, entry) => sum + entry.stressLevel, 0) / secondHalf.length;
                
                if (secondHalfAvg < firstHalfAvg - 0.5) {
                    improvement = 'Improving ↘️';
                } else if (secondHalfAvg > firstHalfAvg + 0.5) {
                    improvement = 'Worsening ↗️';
                } else {
                    improvement = 'Stable →';
                }
            }
            
            document.getElementById('totalEntries').textContent = totalEntries;
            document.getElementById('avgStress').textContent = avgStress;
            document.getElementById('currentStreak').textContent = currentStreak;
            document.getElementById('improvement').textContent = improvement;
        }
        
        function updateFactors() {
            const container = document.getElementById('factorsGrid');
            container.innerHTML = '';
            
            if (stressEntries.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Add stress entries to see factor analysis</p>';
                return;
            }
            
            // Calculate frequency of each trigger
            const triggerCounts = {};
            stressEntries.forEach(entry => {
                entry.triggers.forEach(trigger => {
                    if (!triggerCounts[trigger]) {
                        triggerCounts[trigger] = 0;
                    }
                    triggerCounts[trigger]++;
                });
            });
            
            // Calculate average stress level for each situation
            const situationStress = {};
            const situationCounts = {};
            
            stressEntries.forEach(entry => {
                if (!situationStress[entry.situation]) {
                    situationStress[entry.situation] = 0;
                    situationCounts[entry.situation] = 0;
                }
                situationStress[entry.situation] += entry.stressLevel;
                situationCounts[entry.situation]++;
            });
            
            // Create factor cards for triggers
            Object.keys(triggerCounts).forEach(trigger => {
                const card = document.createElement('div');
                card.className = 'factor-card';
                
                const count = triggerCounts[trigger];
                const percentage = (count / stressEntries.length * 100).toFixed(0);
                
                let stars = '⭐';
                if (percentage > 30) {
                    stars = '⭐⭐⭐';
                } else if (percentage > 15) {
                    stars = '⭐⭐';
                }
                
                card.innerHTML = `
                    <div class="factor-name">${formatTrigger(trigger)}</div>
                    <div class="factor-rating">
                        <div class="factor-stars">${stars}</div>
                        <div class="factor-impact">${percentage}% of entries</div>
                    </div>
                `;
                
                container.appendChild(card);
            });
            
            // Create factor cards for situations
            Object.keys(situationStress).forEach(situation => {
                const card = document.createElement('div');
                card.className = 'factor-card';
                
                const avgStress = (situationStress[situation] / situationCounts[situation]).toFixed(1);
                
                let impact = 'Low Impact';
                let stars = '⭐';
                
                if (avgStress > 7) {
                    impact = 'High Impact';
                    stars = '⭐⭐⭐';
                } else if (avgStress > 5) {
                    impact = 'Medium Impact';
                    stars = '⭐⭐';
                }
                
                const situationMap = {
                    'studying': 'Studying',
                    'exams': 'Exams/Tests',
                    'assignments': 'Assignments',
                    'social': 'Social Situations',
                    'work': 'Work/Job',
                    'family': 'Family',
                    'financial': 'Financial',
                    'health': 'Health',
                    'other': 'Other'
                };
                
                card.innerHTML = `
                    <div class="factor-name">${situationMap[situation] || situation}</div>
                    <div class="factor-rating">
                        <div class="factor-stars">${stars}</div>
                        <div class="factor-impact">${impact} (Avg: ${avgStress}/10)</div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }
        
        function updateCurrentStressLevel() {
            // Calculate recent average stress level
            const today = new Date().toISOString().split('T')[0];
            const todayEntries = stressEntries.filter(entry => entry.stressDate === today);
            
            let currentLevel = 2.5; // Default low stress
            
            if (todayEntries.length > 0) {
                currentLevel = todayEntries.reduce((sum, entry) => sum + entry.stressLevel, 0) / todayEntries.length;
            } else if (stressEntries.length > 0) {
                // Use the most recent entry if no entry today
                const sortedEntries = [...stressEntries].sort((a, b) => new Date(b.stressDate) - new Date(a.stressDate));
                currentLevel = sortedEntries[0].stressLevel;
            }
            
            // Update stress meter
            const meterFill = document.getElementById('stressMeterFill');
            const currentStressLevel = document.getElementById('currentStressLevel');
            
            // Calculate percentage (0-100%)
            const percentage = (currentLevel / 10) * 100;
            meterFill.style.width = `${percentage}%`;
            
            // Update color based on stress level
            meterFill.className = 'stress-meter-fill';
            if (currentLevel >= 8) {
                meterFill.classList.add('stress-level-severe');
                currentStressLevel.className = 'stress-current-level stress-level-severe-text';
            } else if (currentLevel >= 6) {
                meterFill.classList.add('stress-level-high');
                currentStressLevel.className = 'stress-current-level stress-level-high-text';
            } else if (currentLevel >= 4) {
                meterFill.classList.add('stress-level-moderate');
                currentStressLevel.className = 'stress-current-level stress-level-moderate-text';
            } else {
                meterFill.classList.add('stress-level-low');
                currentStressLevel.className = 'stress-current-level stress-level-low-text';
            }
            
            currentStressLevel.textContent = `${getStressLevelText(Math.round(currentLevel))} (${currentLevel.toFixed(1)}/10)`;
        }
        
        function showStrategyDetails(strategy) {
            const details = strategyDetails[strategy];
            if (details) {
                document.getElementById('strategyModalTitle').textContent = details.title;
                document.getElementById('strategyDetails').innerHTML = `<pre style="white-space: pre-wrap; font-family: inherit;">${details.content}</pre>`;
                document.getElementById('strategyModal').classList.add('show');
            }
        }
        
        function closeStrategyModal() {
            document.getElementById('strategyModal').classList.remove('show');
        }
        
        function editEntry(index) {
            editingIndex = index;
            const entry = stressEntries[index];
            
            document.getElementById('editStressDate').value = entry.stressDate;
            document.getElementById('editStressLevel').value = entry.stressLevel;
            document.getElementById('editTimeOfDay').value = entry.timeOfDay;
            document.getElementById('editSituation').value = entry.situation;
            document.getElementById('editNotes').value = entry.notes;
            
            // Set trigger checkboxes
            const triggerCheckboxes = document.querySelectorAll('input[name="editTriggers"]');
            triggerCheckboxes.forEach(cb => {
                cb.checked = entry.triggers.includes(cb.value);
            });
            
            document.getElementById('editModal').classList.add('show');
        }
        
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('show');
            editingIndex = -1;
        }
        
        function saveEdit() {
            if (editingIndex === -1) return;
            
            const stressDate = document.getElementById('editStressDate').value;
            const stressLevel = parseInt(document.getElementById('editStressLevel').value);
            const timeOfDay = document.getElementById('editTimeOfDay').value;
            const situation = document.getElementById('editSituation').value;
            const notes = document.getElementById('editNotes').value;
            
            // Get selected triggers
            const triggerCheckboxes = document.querySelectorAll('input[name="editTriggers"]:checked');
            const triggers = Array.from(triggerCheckboxes).map(cb => cb.value);
            
            stressEntries[editingIndex] = {
                ...stressEntries[editingIndex],
                stressDate,
                stressLevel,
                timeOfDay,
                situation,
                triggers,
                notes
            };
            
            saveStressEntries();
            renderStressEntries();
            updateSummary();
            updateFactors();
            updateCurrentStressLevel();
            closeEditModal();
            showNotification('Success!', 'Stress entry updated successfully.');
        }
        
        function deleteEntry(index) {
            if (confirm('Are you sure you want to delete this stress entry?')) {
                stressEntries.splice(index, 1);
                saveStressEntries();
                renderStressEntries();
                updateSummary();
                updateFactors();
                updateCurrentStressLevel();
                showNotification('Deleted', 'Stress entry removed from your log.');
            }
        }
        
        function clearAllEntries() {
            if (stressEntries.length === 0) {
                showNotification('No Entries', 'There are no stress entries to clear.');
                return;
            }
            
            if (confirm('Are you sure you want to clear all stress entries? This action cannot be undone.')) {
                stressEntries = [];
                saveStressEntries();
                renderStressEntries();
                updateSummary();
                updateFactors();
                updateCurrentStressLevel();
                showNotification('Cleared', 'All stress entries have been removed.');
            }
        }
        
        function exportToCSV() {
            if (stressEntries.length === 0) {
                showNotification('No Data', 'There are no stress entries to export.');
                return;
            }
            
            let csv = 'Date,Stress Level,Time of Day,Situation,Triggers,Notes\n';
            
            stressEntries.forEach(entry => {
                csv += `"${entry.stressDate}",${entry.stressLevel},"${entry.timeOfDay}","${entry.situation}","${entry.triggers.join(';')}","${entry.notes}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `stress_log_${new Date().toISOString().slice(0, 10)}.csv`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Exported', 'Your stress log has been exported as CSV.');
        }
        
        function saveStressEntries() {
            localStorage.setItem('stressMonitorEntries', JSON.stringify(stressEntries));
        }
        
        function loadStressEntries() {
            const saved = localStorage.getItem('stressMonitorEntries');
            if (saved) {
                stressEntries = JSON.parse(saved);
                renderStressEntries();
                updateSummary();
                updateFactors();
            }
        }
        
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                closeNotification();
            }, 5000);
        }
        
        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }
        
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        // Close modals when clicking outside
        window.onclick = function(event) {
            const editModal = document.getElementById('editModal');
            const strategyModal = document.getElementById('strategyModal');
            
            if (event.target === editModal) {
                closeEditModal();
            }
            
            if (event.target === strategyModal) {
                closeStrategyModal();
            }
        }

        // Initialize Stress Monitor when DOM is ready
        function initializeStressMonitor() {
            // Set today's date as default
            document.getElementById('stressDate').valueAsDate = new Date();
            
            // Load existing stress logs from localStorage
            loadStressLogs();
            
            console.log('Stress Monitor initialized successfully');
        }

        // Auto-initialize when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeStressMonitor);
        } else {
            initializeStressMonitor();
        }
    </script>

    <script>
        // Global initialization for main app integration
        if (typeof window.initializeStressMonitor === 'undefined') {
            window.initializeStressMonitor = initializeStressMonitor;
        }
    </script>
</body>
</html>