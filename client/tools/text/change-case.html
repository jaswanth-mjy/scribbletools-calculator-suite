<!-- File: tools/case-converter.html -->
<!-- This file contains the complete, self-contained code for the advanced "Case Converter" tool, designed to match the ScribbleTools theme. -->

<style>
    /* --- Custom styles for the Case Converter Tool --- */
    .cc-textarea {
        background-color: #FDFBF5; /* Lighter cream for contrast */
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 100%;
        min-height: 300px;
        color: #4A4A4A;
        transition: all 0.2s;
        font-size: 1.1rem;
        line-height: 1.6;
    }
    .cc-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }

    .cc-options-box {
        margin-top: 1.5rem;
        padding: 1.5rem;
        background-color: #FDFBF5;
        border-radius: 0.5rem;
        border: 1px solid #EAE3D5;
    }

    .cc-button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 0.75rem;
    }
    .cc-button {
        background-color: #fff;
        color: #4A4A4A;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        font-weight: 600;
        border: 1px solid #DCD5C3;
        cursor: pointer;
        transition: all 0.2s;
        text-align: center;
    }
    .cc-button:hover {
        background-color: #EFEAE0;
        border-color: #C8BFAC;
    }
    .cc-button:active {
        transform: scale(0.98);
        background-color: #EAE3D5;
    }
    
    .cc-utility-bar {
        margin-top: 1.5rem;
        padding-top: 1.5rem;
        border-top: 2px dashed #DCD5C3;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .cc-utility-button {
        background-color: transparent;
        color: #D9534F;
        font-weight: 600;
        border: none;
        cursor: pointer;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
    }
    .cc-utility-button:hover {
        background-color: #FDFBF5;
    }

    .cc-status-bar {
        font-size: 0.9rem;
        color: #888;
    }
</style>

<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Case Converter</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">The Change Case tool allows users to instantly convert text between various case formats (lowercase, UPPERCASE, Title Case, Sentence case, etc.). It’s perfect for writers, editors, students, developers, and anyone who needs to quickly reformat text for readability, consistency, or style. With a wide range of case options—including capitalized, alternating, inverse, random, and more—this tool makes it easy to prepare text for documents, code, social media, or publication.</p>
        <ul class="list-disc list-inside text-gray-700 text-base">
            <li>Convert to lowercase, UPPERCASE, Title Case, Sentence case, and more</li>
            <li>Capitalize each word or only the first word of each sentence</li>
            <li>Apply alternating, inverse, or random case</li>
            <li>Reverse capitalization or create custom case patterns</li>
            <li>Quickly prepare text for documents, code, or social media</li>
        </ul>
    </div>
    <p class="text-gray-600 mb-6">
        A comprehensive tool to transform your text with a wide variety of case conversion options. Perfect for formatting headlines, titles, or any text exactly the way you need it.
    </p>

    <textarea id="cc-input" class="cc-textarea" placeholder="Scribble your text here..."></textarea>
    
    <div class="cc-options-box">
        <h3 class="font-bold text-lg text-gray-700 mb-4">Case Options</h3>
        <div class="cc-button-grid">
            <button id="cc-lower" class="cc-button">lower case</button>
            <button id="cc-upper" class="cc-button">UPPER CASE</button>
            <button id="cc-capitalized" class="cc-button">Capitalized Case</button>
            <button id="cc-sentence" class="cc-button">Sentence case</button>
            <button id="cc-title" class="cc-button">Title Case</button>
            <button id="cc-inverse" class="cc-button">iNvErSe cAsE</button>
            <button id="cc-alternating-1" class="cc-button">AlTeRnAtInG cAsE</button>
            <button id="cc-alternating-2" class="cc-button">aLtErNaTiNg cAsE</button>
            <button id="cc-random" class="cc-button">RaNDom caSE</button>
            <button id="cc-reverse-capitalized" class="cc-button">reversE capitalizeD</button>
        </div>
    </div>

    <div class="cc-utility-bar">
        <div class="cc-status-bar">
            <span>Chars: <strong id="cc-char-count" class="text-gray-600">0</strong></span> |
            <span>Words: <strong id="cc-word-count" class="text-gray-600">0</strong></span>
        </div>
        <div>
            <button id="cc-copy" class="cc-utility-button">Copy</button>
            <button id="cc-download" class="cc-utility-button">Download</button>
            <button id="cc-clear" class="cc-utility-button">Clear</button>
        </div>
    </div>
</div>

<script>
    function initializeCaseConverter() {
        const ccInput = document.getElementById('cc-input');
        if (!ccInput) {
            requestAnimationFrame(initializeCaseConverter);
            return;
        }

        const buttons = {
            lower: document.getElementById('cc-lower'),
            upper: document.getElementById('cc-upper'),
            capitalized: document.getElementById('cc-capitalized'),
            sentence: document.getElementById('cc-sentence'),
            title: document.getElementById('cc-title'),
            inverse: document.getElementById('cc-inverse'),
            alternating1: document.getElementById('cc-alternating-1'),
            alternating2: document.getElementById('cc-alternating-2'),
            random: document.getElementById('cc-random'),
            reverseCapitalized: document.getElementById('cc-reverse-capitalized'),
            copy: document.getElementById('cc-copy'),
            download: document.getElementById('cc-download'),
            clear: document.getElementById('cc-clear'),
        };

        const stats = {
            charCount: document.getElementById('cc-char-count'),
            wordCount: document.getElementById('cc-word-count'),
        };

        function updateStats() {
            const text = ccInput.value;
            stats.charCount.textContent = text.length;
            stats.wordCount.textContent = text.trim().split(/\s+/).filter(Boolean).length;
        }
        
        ccInput.addEventListener('input', updateStats);

        buttons.lower.addEventListener('click', () => { ccInput.value = ccInput.value.toLowerCase(); updateStats(); });
        buttons.upper.addEventListener('click', () => { ccInput.value = ccInput.value.toUpperCase(); updateStats(); });
        buttons.sentence.addEventListener('click', () => { ccInput.value = ccInput.value.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, c => c.toUpperCase()); updateStats(); });
        buttons.capitalized.addEventListener('click', () => { ccInput.value = ccInput.value.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' '); updateStats(); });
        buttons.title.addEventListener('click', () => {
            const smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|v\.?|vs\.?|via)$/i;
            ccInput.value = ccInput.value.toLowerCase().split(' ').map((word, index, arr) => {
                if (index === 0 || index === arr.length - 1 || !smallWords.test(word)) {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }
                return word;
            }).join(' ');
            updateStats();
        });
        buttons.inverse.addEventListener('click', () => { ccInput.value = ccInput.value.split('').map(char => char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()).join(''); updateStats(); });
        buttons.alternating1.addEventListener('click', () => { ccInput.value = ccInput.value.split('').map((char, i) => i % 2 === 0 ? char.toUpperCase() : char.toLowerCase()).join(''); updateStats(); });
        buttons.alternating2.addEventListener('click', () => { ccInput.value = ccInput.value.split('').map((char, i) => i % 2 !== 0 ? char.toUpperCase() : char.toLowerCase()).join(''); updateStats(); });
        buttons.random.addEventListener('click', () => { ccInput.value = ccInput.value.split('').map(char => Math.random() > 0.5 ? char.toUpperCase() : char.toLowerCase()).join(''); updateStats(); });
        buttons.reverseCapitalized.addEventListener('click', () => { ccInput.value = ccInput.value.toUpperCase().split(' ').map(word => word.charAt(0).toLowerCase() + word.slice(1)).join(' '); updateStats(); });

        buttons.copy.addEventListener('click', () => {
            navigator.clipboard.writeText(ccInput.value).then(() => {
                const originalText = buttons.copy.textContent;
                buttons.copy.textContent = 'Copied!';
                setTimeout(() => { buttons.copy.textContent = 'Copy'; }, 2000);
            });
        });

        buttons.download.addEventListener('click', () => {
            const blob = new Blob([ccInput.value], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'converted-text.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        buttons.clear.addEventListener('click', () => {
            ccInput.value = '';
            updateStats();
        });
        
        updateStats(); // Initial call
    }

    initializeCaseConverter();
</script>
