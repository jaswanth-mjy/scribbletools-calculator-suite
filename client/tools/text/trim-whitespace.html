<!-- File: tools/text/trim-whitespace.html -->
<style>
    .tw-textarea {
        background-color: #FDFBF5;
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 100%;
        min-height: 120px;
        color: #4A4A4A;
        transition: all 0.2s;
        font-size: 1.1rem;
        line-height: 1.6;
    }
    .tw-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }
    .tw-options-box {
        margin-top: 1.5rem;
        padding: 1.5rem;
        background-color: #FDFBF5;
        border-radius: 0.5rem;
        border: 1px solid #EAE3D5;
    }
    .tw-button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 0.75rem;
    }
    .tw-button {
        background-color: #fff;
        color: #4A4A4A;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        font-weight: 600;
        border: 1px solid #DCD5C3;
        cursor: pointer;
        transition: all 0.2s;
        text-align: center;
    }
    .tw-button:hover {
        background-color: #EFEAE0;
        border-color: #C8BFAC;
    }
    .tw-button:active {
        transform: scale(0.98);
        background-color: #EAE3D5;
    }
    .tw-utility-bar {
        margin-top: 1.5rem;
        padding-top: 1.5rem;
        border-top: 2px dashed #DCD5C3;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .tw-utility-button {
        background-color: transparent;
        color: #D9534F;
        font-weight: 600;
        border: none;
        cursor: pointer;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
    }
    .tw-utility-button:hover {
        background-color: #FDFBF5;
    }
    .tw-status-bar {
        font-size: 0.9rem;
        color: #888;
    }
    .tw-result-area {
        margin-top: 1.5rem;
        background: #fff;
        border: 1px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        min-height: 80px;
        font-size: 1.05rem;
        color: #333;
        white-space: pre-wrap;
        word-break: break-word;
    }
    .tw-input-group {
        display: flex;
        gap: 0.5rem;
        align-items: center;
        margin-bottom: 1rem;
        flex-wrap: wrap;
    }
    .tw-input-group label {
        font-size: 0.95rem;
        color: #555;
        font-weight: 500;
    }
    .tw-input {
        border: 1px solid #DCD5C3;
        border-radius: 0.375rem;
        padding: 0.4rem 0.7rem;
        font-size: 1rem;
        width: 100px;
    }
</style>
<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Trim Whitespace</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">The Trim Whitespace tool is your go-to solution for cleaning up and normalizing text. Whether youâ€™re preparing code, cleaning up data, writing documents, or formatting lists, this tool helps you remove unwanted spaces, tabs, and blank lines with a single click. It supports a wide range of whitespace operations, including trimming leading/trailing spaces, removing all whitespace, converting tabs to spaces, normalizing line endings, and more. Perfect for writers, coders, students, and anyone who needs clean, consistent text for further processing or presentation.</p>
        <ul class="list-disc list-inside text-gray-700 text-base">
            <li>Trim leading, trailing, or both sides of whitespace</li>
            <li>Remove all whitespace or extra spaces between words</li>
            <li>Remove blank lines or tabs</li>
            <li>Convert tabs to spaces (or vice versa)</li>
            <li>Normalize line endings (Unix/Windows)</li>
            <li>Batch clean up text for code, data, or documents</li>
        </ul>
    </div>
    <p class="text-gray-600 mb-6">
        Clean up your text with advanced whitespace trimming and formatting options.
    </p>
    <textarea id="tw-input" class="tw-textarea" placeholder="Type or paste your text here..."></textarea>
    <div class="tw-options-box">
        <h3 class="font-bold text-lg text-gray-700 mb-4">Trim/Clean Options</h3>
        <div class="tw-input-group">
            <label for="tw-line-ending">Line Endings:</label>
            <select id="tw-line-ending" class="tw-input">
                <option value="unix">Unix (\n)</option>
                <option value="windows">Windows (\r\n)</option>
            </select>
            <label for="tw-tab-space">Tab/Space:</label>
            <select id="tw-tab-space" class="tw-input">
                <option value="none">None</option>
                <option value="tabs-to-spaces">Tabs to Spaces</option>
                <option value="spaces-to-tabs">Spaces to Tabs</option>
            </select>
        </div>
        <div class="tw-button-grid">
            <button id="tw-trim-left" class="tw-button">Trim Leading Whitespace</button>
            <button id="tw-trim-right" class="tw-button">Trim Trailing Whitespace</button>
            <button id="tw-trim-both" class="tw-button">Trim Both Sides</button>
            <button id="tw-remove-all" class="tw-button">Remove All Whitespace</button>
            <button id="tw-single-space" class="tw-button">Single Space Between Words</button>
            <button id="tw-remove-blank-lines" class="tw-button">Remove Blank Lines</button>
            <button id="tw-remove-tabs" class="tw-button">Remove All Tabs</button>
            <button id="tw-tabs-to-spaces" class="tw-button">Convert Tabs to Spaces</button>
            <button id="tw-multi-to-single-space" class="tw-button">Multiple to Single Space</button>
            <button id="tw-normalize-line-endings" class="tw-button">Normalize Line Endings</button>
        </div>
    </div>
    <div class="tw-result-area" id="tw-result"></div>
    <div class="tw-utility-bar">
        <div class="tw-status-bar">
            <span>Chars: <strong id="tw-char-count" class="text-gray-600">0</strong></span> |
            <span>Words: <strong id="tw-word-count" class="text-gray-600">0</strong></span>
        </div>
        <div>
            <button id="tw-copy" class="tw-utility-button">Copy</button>
            <button id="tw-download" class="tw-utility-button">Download</button>
            <button id="tw-clear" class="tw-utility-button">Clear</button>
        </div>
    </div>
</div>
<script>
function initializeTrimWhitespace() {
    const twInput = document.getElementById('tw-input');
    const twResult = document.getElementById('tw-result');
    const twCharCount = document.getElementById('tw-char-count');
    const twWordCount = document.getElementById('tw-word-count');
    const twLineEnding = document.getElementById('tw-line-ending');
    const twTabSpace = document.getElementById('tw-tab-space');

    function updateStats() {
        const text = twInput.value;
        twCharCount.textContent = text.length;
        twWordCount.textContent = text.trim().split(/\s+/).filter(Boolean).length;
    }
    function showResult(str) {
        twResult.textContent = str;
    }
    document.getElementById('tw-trim-left').addEventListener('click', function() {
        showResult(twInput.value.replace(/^\s+/gm, ''));
    });
    document.getElementById('tw-trim-right').addEventListener('click', function() {
        showResult(twInput.value.replace(/\s+$/gm, ''));
    });
    document.getElementById('tw-trim-both').addEventListener('click', function() {
        showResult(twInput.value.replace(/^\s+|\s+$/gm, ''));
    });
    document.getElementById('tw-remove-all').addEventListener('click', function() {
        showResult(twInput.value.replace(/\s+/g, ''));
    });
    document.getElementById('tw-single-space').addEventListener('click', function() {
        showResult(twInput.value.replace(/\s+/g, ' ').trim());
    });
    document.getElementById('tw-remove-blank-lines').addEventListener('click', function() {
        showResult(twInput.value.replace(/^(?:[ \t]*\r?\n)+/gm, ''));
    });
    document.getElementById('tw-remove-tabs').addEventListener('click', function() {
        showResult(twInput.value.replace(/\t+/g, ''));
    });
    document.getElementById('tw-tabs-to-spaces').addEventListener('click', function() {
        showResult(twInput.value.replace(/\t/g, '    '));
    });
    document.getElementById('tw-multi-to-single-space').addEventListener('click', function() {
        showResult(twInput.value.replace(/ +/g, ' '));
    });
    document.getElementById('tw-normalize-line-endings').addEventListener('click', function() {
        let text = twInput.value.replace(/\r\n|\r|\n/g, '\n');
        if (twLineEnding.value === 'windows') {
            text = text.replace(/\n/g, '\r\n');
        }
        showResult(text);
    });
    twInput.addEventListener('input', updateStats);
    document.getElementById('tw-copy').addEventListener('click', function() {
        navigator.clipboard.writeText(twResult.textContent).then(() => {
            const btn = document.getElementById('tw-copy');
            const orig = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => { btn.textContent = orig; }, 2000);
        });
    });
    document.getElementById('tw-download').addEventListener('click', function() {
        const blob = new Blob([twResult.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'trim-whitespace.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
    document.getElementById('tw-clear').addEventListener('click', function() {
        twInput.value = '';
        twResult.textContent = '';
        updateStats();
    });
    updateStats();
}
initializeTrimWhitespace();
</script>
