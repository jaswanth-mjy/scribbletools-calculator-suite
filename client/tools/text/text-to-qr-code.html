<!-- File: tools/text/text-to-qr-code.html -->
<style>
    .rdl-textarea {
        background-color: #FDFBF5;
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 90%;
        min-width: 320px;
        max-width: 700px;
        height: 100px;
        color: #4A4A4A;
        font-size: 1.1rem;
        line-height: 1.6;
        transition: all 0.2s;
        resize: none;
        overflow: auto;
        box-sizing: border-box;
        margin: 0 auto 1.2rem auto;
        display: block;
    }
    .rdl-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }
    .rdl-utility-bar {
        margin-top: 2.5rem;
        display: flex;
        gap: 1.2rem;
        justify-content: center;
    }
    .rdl-utility-button {
        background-color: #fff;
        color: #D9534F;
        font-weight: 600;
        border: 2px solid #D9534F;
        cursor: pointer;
        padding: 0.7rem 2rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
        font-size: 1.1rem;
    }
    .rdl-utility-button:hover {
        background-color: #D9534F;
        color: #fff;
    }
    .rdl-output-box {
        margin: 2rem auto 0 auto;
        background: #fff;
        border: 2px solid #D9534F;
        border-radius: 0.7rem;
        padding: 1.2rem 1rem;
        min-height: 80px;
        color: #333;
        font-size: 1.15rem;
        font-family: 'Fira Code', monospace;
        letter-spacing: 1px;
        word-break: break-word;
        overflow: auto;
        max-width: 700px;
        width: 90%;
        text-align: left;
        text-align: center;
    }
    .qr-btn-bar {
        display: flex;
        justify-content: center;
        gap: 1.2rem;
        margin: 1.5rem 0 0.5rem 0;
    }
</style>
<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Text to QR Code</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">Convert any text or URL into a QR code image. Great for sharing links, contact info, or any text in a scannable format!</p>
        <ul class="list-disc list-inside text-gray-700 text-base mb-2">
            <li><b>QR Code:</b> Instantly generate a QR code from your text or link.</li>
            <li><b>Easy Sharing:</b> Download or copy the QR code image for use anywhere.</li>
            <li><b>Great for:</b> Sharing links, contact info, event details, or any text.</li>
        </ul>
        <p class="text-base text-gray-700 mb-2"><b>How to use:</b></p>
        <ol class="list-decimal list-inside text-gray-700 text-base mb-2">
            <li>Paste or type your text or URL into the input box below.</li>
            <li>Click <b>Generate QR Code</b> to create the QR code image.</li>
            <li>View the QR code in the output area.</li>
            <li>Use <b>Download</b> to save the QR code image, or <b>Clear</b> to reset.</li>
        </ol>
        <p class="text-base text-gray-700"><b>Example uses:</b> Share WiFi passwords, event details, website links, or any text in a scannable format!</p>
    </div>
    <textarea id="qr-input" class="rdl-textarea" placeholder="Paste or type your text or URL here..."></textarea>
    <div class="qr-btn-bar">
        <button id="qr-generate" class="rdl-utility-button">Generate QR Code</button>
    </div>
    <div class="rdl-output-box" id="qr-output-text">
        <div id="qrcode-text"></div>
    </div>
    <div class="rdl-utility-bar">
        <button id="qr-download-text" class="rdl-utility-button">Download</button>
        <button id="qr-clear-text" class="rdl-utility-button">Clear</button>
    </div>
</div>
<script>
function initializeTextToQrCode() {
    const input = document.getElementById('qr-input');
    const qrDiv = document.getElementById('qrcode-text');
    const btnGenerate = document.getElementById('qr-generate');
    const btnDownload = document.getElementById('qr-download-text');
    const btnClear = document.getElementById('qr-clear-text');
    let lastImg = null;
    btnGenerate.addEventListener('click', () => {
        qrDiv.innerHTML = '';
        if (!input.value.trim()) return;
        if (typeof QRCode === 'undefined') {
            qrDiv.textContent = 'QR code library failed to load.';
            return;
        }
        new QRCode(qrDiv, {
            text: input.value,
            width: 256,
            height: 256,
            correctLevel: QRCode.CorrectLevel.H
        });
        setTimeout(() => {
            lastImg = qrDiv.querySelector('img');
        }, 100);
    });
    btnDownload.addEventListener('click', () => {
        if (!lastImg) return;
        const a = document.createElement('a');
        a.href = lastImg.src;
        a.download = 'qr-code.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    });
    btnClear.addEventListener('click', () => {
        input.value = '';
        qrDiv.innerHTML = '';
        lastImg = null;
    });
}
function waitForQRCodeAndInit() {
    if (typeof QRCode !== 'undefined' && document.getElementById('qr-generate')) {
        initializeTextToQrCode();
    } else {
        setTimeout(waitForQRCodeAndInit, 100);
    }
}
waitForQRCodeAndInit();
</script>
