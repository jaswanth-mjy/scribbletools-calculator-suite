<!-- File: tools/text/text-indenter.html -->
<style>
    .rdl-textarea {
        background-color: #FDFBF5;
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 90%;
        min-width: 320px;
        max-width: 700px;
        height: 100px;
        color: #4A4A4A;
        font-size: 1.1rem;
        line-height: 1.6;
        transition: all 0.2s;
        resize: none;
        overflow: auto;
        box-sizing: border-box;
        margin: 0 auto 1.2rem auto;
        display: block;
    }
    .rdl-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }
    .rdl-utility-bar {
        margin-top: 2.5rem;
        display: flex;
        gap: 1.2rem;
        justify-content: center;
    }
    .rdl-utility-button {
        background-color: #fff;
        color: #D9534F;
        font-weight: 600;
        border: 2px solid #D9534F;
        cursor: pointer;
        padding: 0.7rem 2rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
        font-size: 1.1rem;
    }
    .rdl-utility-button:hover {
        background-color: #D9534F;
        color: #fff;
    }
    .rdl-output-box {
        margin: 2rem auto 0 auto;
        background: #fff;
        border: 2px solid #D9534F;
        border-radius: 0.7rem;
        padding: 1.2rem 1rem;
        min-height: 80px;
        color: #333;
        font-size: 1.15rem;
        font-family: 'Fira Code', monospace;
        letter-spacing: 1px;
        word-break: break-word;
        overflow: auto;
        max-width: 700px;
        width: 90%;
        text-align: left;
    }
    .indent-btn-bar {
        display: flex;
        justify-content: center;
        gap: 1.2rem;
        margin: 1.5rem 0 0.5rem 0;
    }
</style>
<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Text Indenter / Unindenter</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">The Text Indenter/Unindenter tool lets you quickly add or remove leading spaces from every line in your text. This is essential for formatting code, adjusting markdown, fixing email quotes, or making text more readable and organized.</p>
        <ul class="list-disc list-inside text-gray-700 text-base mb-2">
            <li><b>Indent:</b> Add four spaces to the start of every line. Great for code blocks, markdown, or visually grouping text.</li>
            <li><b>Unindent:</b> Remove up to four leading spaces from each line. Useful for cleaning up pasted code, removing unwanted indentation, or flattening text structure.</li>
            <li><b>Flexible:</b> Works with any multi-line textâ€”code, lists, notes, emails, and more.</li>
        </ul>
        <p class="text-base text-gray-700 mb-2"><b>How to use:</b></p>
        <ol class="list-decimal list-inside text-gray-700 text-base mb-2">
            <li>Paste or type your multi-line text into the input box below.</li>
            <li>Click <b>Indent</b> to add spaces, or <b>Unindent</b> to remove them.</li>
            <li>View the formatted result in the output area.</li>
            <li>Use <b>Copy</b> to copy the result, <b>Download</b> to save as a file, or <b>Clear</b> to reset.</li>
        </ol>
        <p class="text-base text-gray-700"><b>Example uses:</b> Format code for sharing, fix email or markdown indentation, prepare text for documentation, or clean up pasted content.</p>
    </div>
    <textarea id="indent-input" class="rdl-textarea" placeholder="Paste or type your text here..."></textarea>
    <div class="indent-btn-bar">
        <button id="indent-btn" class="rdl-utility-button">Indent</button>
        <button id="unindent-btn" class="rdl-utility-button">Unindent</button>
    </div>
    <div class="rdl-output-box" id="indent-output"></div>
    <div class="rdl-utility-bar">
        <button id="indent-copy" class="rdl-utility-button">Copy</button>
        <button id="indent-download" class="rdl-utility-button">Download</button>
        <button id="indent-clear" class="rdl-utility-button">Clear</button>
    </div>
</div>
<script>
function initializeTextIndenter() {
    const input = document.getElementById('indent-input');
    const output = document.getElementById('indent-output');
    const btnIndent = document.getElementById('indent-btn');
    const btnUnindent = document.getElementById('unindent-btn');
    const btnCopy = document.getElementById('indent-copy');
    const btnDownload = document.getElementById('indent-download');
    const btnClear = document.getElementById('indent-clear');
    btnIndent.addEventListener('click', () => {
        const result = input.value.split(/\r?\n/).map(line => '    ' + line).join('\n');
        output.textContent = result;
    });
    btnUnindent.addEventListener('click', () => {
        const result = input.value.split(/\r?\n/).map(line => line.replace(/^\s{1,4}/, '')).join('\n');
        output.textContent = result;
    });
    btnCopy.addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent).then(() => {
            const orig = btnCopy.textContent;
            btnCopy.textContent = 'Copied!';
            setTimeout(() => { btnCopy.textContent = orig; }, 2000);
        });
    });
    btnDownload.addEventListener('click', () => {
        const blob = new Blob([output.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'indented-text.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
    btnClear.addEventListener('click', () => {
        input.value = '';
        output.textContent = '';
    });
}
initializeTextIndenter();
</script>
