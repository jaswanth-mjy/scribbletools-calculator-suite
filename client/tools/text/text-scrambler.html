<!-- File: tools/text/text-scrambler.html -->
<style>
    .rdl-textarea {
        background-color: #FDFBF5;
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 90%;
        min-width: 320px;
        max-width: 700px;
        height: 100px;
        color: #4A4A4A;
        font-size: 1.1rem;
        line-height: 1.6;
        transition: all 0.2s;
        resize: none;
        overflow: auto;
        box-sizing: border-box;
        margin: 0 auto 1.2rem auto;
        display: block;
    }
    .rdl-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }
    .rdl-utility-bar {
        margin-top: 2.5rem;
        display: flex;
        gap: 1.2rem;
        justify-content: center;
    }
    .rdl-utility-button {
        background-color: #fff;
        color: #D9534F;
        font-weight: 600;
        border: 2px solid #D9534F;
        cursor: pointer;
        padding: 0.7rem 2rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
        font-size: 1.1rem;
    }
    .rdl-utility-button:hover {
        background-color: #D9534F;
        color: #fff;
    }
    .rdl-output-box {
        margin: 2rem auto 0 auto;
        background: #fff;
        border: 2px solid #D9534F;
        border-radius: 0.7rem;
        padding: 1.2rem 1rem;
        min-height: 80px;
        color: #333;
        font-size: 1.15rem;
        font-family: 'Fira Code', monospace;
        letter-spacing: 1px;
        word-break: break-word;
        overflow: auto;
        max-width: 700px;
        width: 90%;
        text-align: left;
    }
    .scrambler-btn-bar {
        display: flex;
        justify-content: center;
        gap: 1.2rem;
        margin: 1.5rem 0 0.5rem 0;
    }
</style>
<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Text Scrambler / Unscrambler</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">The Text Scrambler/Unscrambler tool lets you instantly scramble (randomize) or unscramble (alphabetize) the letters in each word of your text. This is perfect for creating word puzzles, obfuscating sensitive information, or just having fun with language games.</p>
        <ul class="list-disc list-inside text-gray-700 text-base mb-2">
            <li><b>Scramble:</b> Randomly shuffles the letters in every word, making text harder to read or turning it into a puzzle.</li>
            <li><b>Unscramble:</b> Sorts the letters in each word alphabetically, which can help with certain word games or create a unique effect.</li>
            <li><b>Fun & Privacy:</b> Great for word games, creating brain teasers, or lightly obfuscating text for privacy.</li>
        </ul>
        <p class="text-base text-gray-700 mb-2"><b>How to use:</b></p>
        <ol class="list-decimal list-inside text-gray-700 text-base mb-2">
            <li>Paste or type your text into the input box below.</li>
            <li>Click <b>Scramble</b> to randomize, or <b>Unscramble</b> to alphabetize the letters in each word.</li>
            <li>View the transformed result in the output area.</li>
            <li>Use <b>Copy</b> to copy the result, <b>Download</b> to save as a file, or <b>Clear</b> to reset.</li>
        </ol>
        <p class="text-base text-gray-700"><b>Example uses:</b> Create word scramble puzzles, obfuscate answers for games, experiment with language, or make text more playful and challenging.</p>
    </div>
    <textarea id="scrambler-input" class="rdl-textarea" placeholder="Paste or type your text here..."></textarea>
    <div class="scrambler-btn-bar">
        <button id="scramble-btn" class="rdl-utility-button">Scramble</button>
        <button id="unscramble-btn" class="rdl-utility-button">Unscramble</button>
    </div>
    <div class="rdl-output-box" id="scrambler-output"></div>
    <div class="rdl-utility-bar">
        <button id="scrambler-copy" class="rdl-utility-button">Copy</button>
        <button id="scrambler-download" class="rdl-utility-button">Download</button>
        <button id="scrambler-clear" class="rdl-utility-button">Clear</button>
    </div>
</div>
<script>
function scrambleWord(word) {
    if (word.length < 2) return word;
    let arr = word.split('');
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr.join('');
}
function unscrambleWord(word) {
    return word.split('').sort().join('');
}
function initializeTextScrambler() {
    const input = document.getElementById('scrambler-input');
    const output = document.getElementById('scrambler-output');
    const btnScramble = document.getElementById('scramble-btn');
    const btnUnscramble = document.getElementById('unscramble-btn');
    const btnCopy = document.getElementById('scrambler-copy');
    const btnDownload = document.getElementById('scrambler-download');
    const btnClear = document.getElementById('scrambler-clear');
    btnScramble.addEventListener('click', () => {
        const result = input.value.replace(/\w+/g, scrambleWord);
        output.textContent = result;
    });
    btnUnscramble.addEventListener('click', () => {
        const result = input.value.replace(/\w+/g, unscrambleWord);
        output.textContent = result;
    });
    btnCopy.addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent).then(() => {
            const orig = btnCopy.textContent;
            btnCopy.textContent = 'Copied!';
            setTimeout(() => { btnCopy.textContent = orig; }, 2000);
        });
    });
    btnDownload.addEventListener('click', () => {
        const blob = new Blob([output.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'scrambled-text.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
    btnClear.addEventListener('click', () => {
        input.value = '';
        output.textContent = '';
    });
}
initializeTextScrambler();
</script>
