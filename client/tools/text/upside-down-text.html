<!-- File: tools/text/upside-down-text.html -->
<style>
    .rdl-textarea {
        background-color: #FDFBF5;
        border: 2px solid #EAE3D5;
        border-radius: 0.5rem;
        padding: 1rem;
        width: 90%;
        min-width: 320px;
        max-width: 700px;
        height: 100px;
        color: #4A4A4A;
        font-size: 1.1rem;
        line-height: 1.6;
        transition: all 0.2s;
        resize: none;
        overflow: auto;
        box-sizing: border-box;
        margin: 0 auto 1.2rem auto;
        display: block;
    }
    .rdl-textarea:focus {
        outline: none;
        border-color: #D9534F;
        box-shadow: 0 0 0 3px rgba(217, 83, 79, 0.2);
    }
    .rdl-utility-bar {
        margin-top: 2.5rem;
        display: flex;
        gap: 1.2rem;
        justify-content: center;
    }
    .rdl-utility-button {
        background-color: #fff;
        color: #D9534F;
        font-weight: 600;
        border: 2px solid #D9534F;
        cursor: pointer;
        padding: 0.7rem 2rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
        font-size: 1.1rem;
    }
    .rdl-utility-button:hover {
        background-color: #D9534F;
        color: #fff;
    }
    .rdl-output-box {
        margin: 2rem auto 0 auto;
        background: #fff;
        border: 2px solid #D9534F;
        border-radius: 0.7rem;
        padding: 1.2rem 1rem;
        min-height: 80px;
        color: #333;
        font-size: 1.15rem;
        font-family: 'Fira Code', monospace;
        letter-spacing: 1px;
        word-break: break-word;
        overflow: auto;
        max-width: 700px;
        width: 90%;
        text-align: left;
    }
    .upside-btn-bar {
        display: flex;
        justify-content: center;
        gap: 1.2rem;
        margin: 1.5rem 0 0.5rem 0;
    }
</style>
<div>
    <h2 class="handwritten text-5xl text-[#D9534F] mb-4">Upside Down Text</h2>
    <div class="mb-6 p-6 bg-amber-50/70 rounded-lg border border-amber-200">
        <p class="text-lg text-gray-800 font-bold mb-2">Flip your text upside down using Unicode characters. Great for fun, social media, or making your messages stand out!</p>
        <ul class="list-disc list-inside text-gray-700 text-base mb-2">
            <li><b>Flip Text:</b> Instantly turn your text upside down using special Unicode characters.</li>
            <li><b>Fun & Unique:</b> Use for social media, nicknames, or to grab attention.</li>
            <li><b>Great for:</b> Messaging, posts, bios, and creative writing.</li>
        </ul>
        <p class="text-base text-gray-700 mb-2"><b>How to use:</b></p>
        <ol class="list-decimal list-inside text-gray-700 text-base mb-2">
            <li>Paste or type your text into the input box below.</li>
            <li>Click <b>Flip</b> to turn your text upside down.</li>
            <li>View the flipped result in the output area.</li>
            <li>Use <b>Copy</b> to copy the result, <b>Download</b> to save as a file, or <b>Clear</b> to reset.</li>
        </ol>
        <p class="text-base text-gray-700"><b>Example uses:</b> Make your social media posts stand out, create fun nicknames, or surprise your friends with upside down messages!</p>
    </div>
    <textarea id="upside-input" class="rdl-textarea" placeholder="Paste or type your text here..."></textarea>
    <div class="upside-btn-bar">
        <button id="upside-flip" class="rdl-utility-button">Flip</button>
    </div>
    <div class="rdl-output-box" id="upside-output"></div>
    <div class="rdl-utility-bar">
        <button id="upside-copy" class="rdl-utility-button">Copy</button>
        <button id="upside-download" class="rdl-utility-button">Download</button>
        <button id="upside-clear" class="rdl-utility-button">Clear</button>
    </div>
</div>
<script>
const upsideDownMap = {
    'a': '\u0250', 'b': 'q', 'c': '\u0254', 'd': 'p', 'e': '\u01DD', 'f': '\u025F', 'g': '\u0183', 'h': '\u0265', 'i': '\u0131', 'j': '\u027E', 'k': '\u029E', 'l': '\u0283', 'm': '\u026F', 'n': 'u', 'o': 'o', 'p': 'd', 'q': 'b', 'r': '\u0279', 's': 's', 't': '\u0287', 'u': 'n', 'v': '\u028C', 'w': '\u028D', 'x': 'x', 'y': '\u028E', 'z': 'z',
    'A': '\u2200', 'B': 'á™ ', 'C': '\u0186', 'D': '\u15E1', 'E': '\u018E', 'F': '\u2132', 'G': '\u2141', 'H': 'H', 'I': 'I', 'J': '\u017F', 'K': 'K', 'L': '\u02E5', 'M': 'W', 'N': 'N', 'O': 'O', 'P': '\u0500', 'Q': 'Q', 'R': '\u1D1A', 'S': 'S', 'T': '\u22A5', 'U': '\u2229', 'V': '\u039B', 'W': 'M', 'X': 'X', 'Y': '\u2144', 'Z': 'Z',
    '0': '0', '1': '\u0196', '2': '\u1105', '3': '\u0190', '4': '\u3123', '5': '\u03DB', '6': '9', '7': '\u3125', '8': '8', '9': '6',
    '.': '\u02D9', ',': "'", "'": ',', '"': ',', '`': ',', '?': '\u00BF', '!': '\u00A1', '[': ']', ']': '[', '(': ')', ')': '(', '{': '}', '}': '{', '<': '>', '>': '<', '_': '\u203E', '\\': '\\', '^': 'v', 'v': '^',
    '\n': '\n', ' ': ' '
};
function flipText(str) {
    return Array.from(str).reverse().map(c => {
        if (upsideDownMap[c]) return upsideDownMap[c];
        // Try unicode escape if present
        try {
            return c.normalize('NFD').split('').map(ch => upsideDownMap[ch] || ch).join('');
        } catch { return c; }
    }).join('');
}
function initializeUpsideDownText() {
    const input = document.getElementById('upside-input');
    const output = document.getElementById('upside-output');
    const btnFlip = document.getElementById('upside-flip');
    const btnCopy = document.getElementById('upside-copy');
    const btnDownload = document.getElementById('upside-download');
    const btnClear = document.getElementById('upside-clear');
    btnFlip.addEventListener('click', () => {
        output.textContent = flipText(input.value);
    });
    btnCopy.addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent).then(() => {
            const orig = btnCopy.textContent;
            btnCopy.textContent = 'Copied!';
            setTimeout(() => { btnCopy.textContent = orig; }, 2000);
        });
    });
    btnDownload.addEventListener('click', () => {
        const blob = new Blob([output.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'upside-down.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
    btnClear.addEventListener('click', () => {
        input.value = '';
        output.textContent = '';
    });
}
initializeUpsideDownText();
</script>
